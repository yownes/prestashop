(this.webpackJsonpbackoffice=this.webpackJsonpbackoffice||[]).push([[0],{102:function(e,t,a){e.exports={centerText:"auth_centerText__3D-rp",rightAlign:"auth_rightAlign__1W_pa",buttons:"auth_buttons__BnG_P"}},114:function(e,t,a){e.exports={info:"AppInfo_info__2BIeo",info__logo:"AppInfo_info__logo__1066u",info__appName:"AppInfo_info__appName__2AB9_",info__appId:"AppInfo_info__appId__3wrZU",info__stores:"AppInfo_info__stores__24f-7",info__state:"AppInfo_info__state__2LKXs",infoStores__link:"AppInfo_infoStores__link__3N9XN"}},160:function(e,t,a){e.exports={container:"Auth_container__1IMwB",content:"Auth_content__xjaiI",image:"Auth_image__1KelM",imageContainer:"Auth_imageContainer__3-dXS",logo:"Auth_logo__3PhOV"}},185:function(e,t,a){e.exports={container:"HeaderSessionInfo_container__KvdKl",info:"HeaderSessionInfo_info__NaBNB",title:"HeaderSessionInfo_title__1YV0Q",subtitle:"HeaderSessionInfo_subtitle__3Lx7W"}},222:function(e,t,a){e.exports={container:"AppPreview_container__wIHkI",preview:"AppPreview_preview__2a6pD",buttons:"AppPreview_buttons__Qzgai"}},224:function(e,t,a){e.exports={container:"TemplatePreview_container__6gEDa",image:"TemplatePreview_image__1-sPq",name:"TemplatePreview_name__3jPxL"}},225:function(e,t,a){e.exports={container:"TitleWithAction_container__1nMco",title:"TitleWithAction_title__2W4EN",action:"TitleWithAction_action___CN41"}},226:function(e,t,a){e.exports={container:"Placeholder_container__3EQo_",title:"Placeholder_title__7WaoD"}},228:function(e,t,a){e.exports={container:"Header_container__2BfIk",title:"Header_title__3ub0q",titleIcon:"Header_titleIcon__--q4E"}},229:function(e,t,a){e.exports={container:"TemplateSelector_container__zcVho",overlay:"TemplateSelector_overlay__3_Hpw",arrow:"TemplateSelector_arrow__1Jk_c"}},34:function(e,t,a){e.exports={creditcard:"CreditCard_creditcard__1NRYJ",cardfront:"CreditCard_cardfront__uETpK",cardback:"CreditCard_cardback__2hIXe",ccsingle:"CreditCard_ccsingle__1Hj8r",lightcolor:"CreditCard_lightcolor__3MgFL",darkcolor:"CreditCard_darkcolor__2jhju",lightblue:"CreditCard_lightblue__3-1zg",lightbluedark:"CreditCard_lightbluedark__2ND_X",red:"CreditCard_red__2Nj4r",reddark:"CreditCard_reddark__xtOF6",purple:"CreditCard_purple__39QpX",purpledark:"CreditCard_purpledark__36AuB",cyan:"CreditCard_cyan__1bnO0",cyandark:"CreditCard_cyandark__3fzrp",green:"CreditCard_green__1veSt",greendark:"CreditCard_greendark__3Ii_N",lime:"CreditCard_lime__icYpK",limedark:"CreditCard_limedark__3Yifj",yellow:"CreditCard_yellow__3oIVA",yellowdark:"CreditCard_yellowdark__LNn2c",orange:"CreditCard_orange__2EvI5",orangedark:"CreditCard_orangedark__1vXb2",grey:"CreditCard_grey__3-Yks",greydark:"CreditCard_greydark__1sRMU",svgname:"CreditCard_svgname__1Jmhl",st2:"CreditCard_st2__2TZG5",st3:"CreditCard_st3__2Xm5K",st4:"CreditCard_st4__X8wkk",st5:"CreditCard_st5__1j-jG",st6:"CreditCard_st6__3gGwR",st7:"CreditCard_st7__OkFwB",st8:"CreditCard_st8__1EHts",st9:"CreditCard_st9__1T6_m",st10:"CreditCard_st10__2H1HA",st11:"CreditCard_st11__Z4CQo",st12:"CreditCard_st12__1My5d",front:"CreditCard_front__5OkOk"}},347:function(e,t,a){e.exports={container:"AdminHeader_container__3LkoF",links:"AdminHeader_links__36rFD"}},348:function(e,t,a){e.exports={upload:"FileUpload_upload__3FY9O"}},352:function(e,t,a){e.exports={container:"RateSelection_container__2-W83"}},355:function(e,t,a){e.exports={main:"Dashboard_main__2_2Wp"}},370:function(e,t,a){e.exports=a(614)},375:function(e,t,a){},376:function(e,t,a){},614:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(38),c=a.n(l),o=(a(375),a(30)),i=a(56),d=a(12),u=(a(376),a(146)),s=a.n(u);function m(e){var t=e.width,a=void 0===t?150:t,r=e.height,l=s()().md,c=l?a:a-a/4*3;return n.createElement("svg",{width:c,height:r,viewBox:"0 0 ".concat(c," 52")},n.createElement("title",null,"Artboard"),n.createElement("g",{fill:"none",fillRule:"nonzero"},l&&n.createElement("path",{d:"M46.465 35.43c.2.094.458.183.776.267.318.086.63.127.94.127 1 0 1.78-.23 2.343-.691.564-.463 1.072-1.211 1.526-2.245a81.844 81.844 0 01-3.202-7.19A64.151 64.151 0 0146.382 18h2.726c.2.847.439 1.761.722 2.74a74.474 74.474 0 002.057 6.13 55.49 55.49 0 001.253 2.994 77.023 77.023 0 001.798-5.875c.51-1.94.991-3.936 1.446-5.989H59a116.162 116.162 0 01-2.18 7.98 83.63 83.63 0 01-2.59 7.161c-.363.847-.74 1.577-1.13 2.19a6.55 6.55 0 01-1.294 1.511 4.663 4.663 0 01-1.595.875c-.59.19-1.259.283-2.003.283-.2 0-.409-.013-.626-.043a6.572 6.572 0 01-.641-.113 6.216 6.216 0 01-.572-.155 2.727 2.727 0 01-.369-.141l.465-2.119zM72.216 24.5c0-1.611-.378-2.888-1.133-3.832-.756-.944-1.784-1.414-3.084-1.414s-2.329.47-3.083 1.414c-.756.944-1.134 2.22-1.134 3.832 0 1.613.378 2.89 1.134 3.832.754.944 1.783 1.414 3.083 1.414 1.3 0 2.328-.47 3.084-1.414.755-.943 1.133-2.22 1.133-3.832m2.784 0c0 1.135-.173 2.161-.518 3.076a6.974 6.974 0 01-1.448 2.363 6.343 6.343 0 01-2.223 1.524c-.862.358-1.798.537-2.812.537-1.014 0-1.95-.179-2.811-.537a6.318 6.318 0 01-2.223-1.524 6.953 6.953 0 01-1.449-2.363c-.344-.915-.516-1.94-.516-3.076 0-1.117.172-2.138.516-3.063.344-.925.827-1.716 1.449-2.376a6.318 6.318 0 012.223-1.524c.86-.358 1.797-.537 2.811-.537s1.95.179 2.812.537c.86.356 1.601.864 2.223 1.524.62.66 1.104 1.45 1.448 2.376.345.925.518 1.946.518 3.063M90.801 32a122.472 122.472 0 01-1.686-4.745 78.563 78.563 0 01-1.63-5.553 85.566 85.566 0 01-1.615 5.553c-.585 1.78-1.143 3.36-1.671 4.745h-2.297c-.869-1.98-1.719-4.24-2.55-6.778-.831-2.54-1.616-5.28-2.352-8.222h2.834c.188.903.415 1.884.68 2.941.263 1.059.543 2.118.836 3.173.292 1.059.6 2.078.921 3.059.321.981.624 1.837.906 2.567.322-.903.639-1.86.95-2.87.312-1.009.61-2.03.893-3.058.284-1.029.553-2.038.808-3.029.254-.99.476-1.918.666-2.783h2.182c.17.865.377 1.793.624 2.783a117.198 117.198 0 001.686 6.088c.31 1.01.627 1.966.95 2.869.283-.73.58-1.586.892-2.567a108.424 108.424 0 001.772-6.232A81.86 81.86 0 0095.28 17H98a120.661 120.661 0 01-2.352 8.222c-.832 2.538-1.682 4.797-2.551 6.778h-2.296zM101 17.734c.609-.151 1.418-.311 2.429-.48 1.01-.17 2.171-.254 3.485-.254 1.181 0 2.162.164 2.943.494.78.33 1.404.79 1.872 1.383.467.594.795 1.305.985 2.133.19.83.286 1.743.286 2.74V32h-2.657v-7.685c0-.903-.062-1.674-.186-2.316-.124-.64-.33-1.158-.614-1.554a2.439 2.439 0 00-1.143-.86c-.476-.18-1.067-.269-1.772-.269-.284 0-.581.01-.885.028a19.71 19.71 0 00-.872.07c-.276.029-.525.062-.742.1-.22.037-.376.066-.472.085V32H101V17.734zM126.222 23.138c.02-1.156-.282-2.106-.902-2.85-.62-.742-1.474-1.113-2.562-1.113-.612 0-1.151.114-1.618.343a3.833 3.833 0 00-1.188.894c-.325.368-.58.79-.76 1.267a6.03 6.03 0 00-.358 1.459h7.388zM116 24.542c0-1.266.19-2.371.572-3.318.383-.943.887-1.728 1.519-2.352a6.202 6.202 0 012.176-1.404 7.038 7.038 0 012.519-.468c2.004 0 3.542.602 4.61 1.803 1.068 1.202 1.604 3.031 1.604 5.49v.427c0 .175-.01.335-.03.482h-10.192c.115 1.486.562 2.614 1.345 3.385.782.77 2.004 1.157 3.665 1.157.936 0 1.723-.078 2.363-.234.64-.156 1.12-.309 1.447-.455l.37 2.147c-.324.165-.892.34-1.704.522-.81.184-1.73.276-2.763.276-1.298 0-2.418-.188-3.363-.564-.945-.377-1.723-.894-2.334-1.556a6.274 6.274 0 01-1.36-2.353c-.297-.908-.444-1.903-.444-2.985M136.387 29.826c1.034 0 1.803-.138 2.302-.414.5-.275.749-.715.749-1.32 0-.624-.245-1.12-.735-1.487-.491-.367-1.3-.78-2.426-1.237a37.025 37.025 0 01-1.566-.675c-.5-.23-.931-.5-1.294-.812a3.514 3.514 0 01-.871-1.128c-.22-.441-.327-.982-.327-1.624 0-1.266.462-2.27 1.388-3.013.927-.743 2.19-1.116 3.787-1.116.4 0 .8.025 1.2.07.4.046.772.102 1.117.165.345.065.65.133.912.207.264.074.468.136.614.192l-.463 2.202c-.273-.147-.7-.298-1.282-.455-.58-.155-1.28-.234-2.098-.234-.707 0-1.326.143-1.853.428-.526.283-.79.729-.79 1.333 0 .312.06.588.178.827s.3.453.544.646c.246.193.55.372.914.537.363.166.799.339 1.309.522.67.257 1.27.51 1.796.758.528.247.978.535 1.35.865.372.332.659.73.858 1.199.2.468.3 1.04.3 1.72 0 1.32-.486 2.32-1.458 2.999-.972.68-2.356 1.019-4.155 1.019-1.254 0-2.234-.107-2.942-.317-.71-.21-1.19-.372-1.445-.481l.463-2.202c.29.11.753.274 1.389.495.637.22 1.48.33 2.535.33",fill:"#4B4A4B"}),n.createElement("path",{d:"M36.123 8.426c-2.393-1.354-6.326.593-8.73 4.798-.942 1.647-1.51 3.339-1.716 4.87-.003.022-.011.035-.014.057l-.023.25c-.01.097-.022.196-.03.292-.202 1.943-.649 4.983-.649 4.983l.001.001c-.677 2.742-1.937 5.985-4.22 7.373-1.094.584-1.933.464-2.261.376-.765-.305-1.711-1.02-2.275-2.713-1.059-3.18.42-7.55.42-7.55l-.019.018c.753-2.369.462-4.53-.898-5.299-1.758-.993-4.616.704-6.38 3.792-1.767 3.088-1.772 6.397-.014 7.39.348.198.75.262 1.168.256l-.028.029c2.602.08 3.471.822 4.615 2.593.958 1.484.373 4.705.04 6.157a6.31 6.31 0 00-.146.59l-.039.15.007-.001c-.243 1.349.031 2.503.842 2.96 1.25.707 3.283-.5 4.538-2.696a7.97 7.97 0 00.352-.706c.023-.04.045-.072.07-.126.632-1.41 1.406-3.911 3.843-7.389 1.054-1.503 2.736-3.034 4.305-4.29.098-.08.201-.162.312-.244.011-.01.022-.018.033-.026.79-.585 1.84-1.197 2.286-1.451.07-.04.139-.076.208-.118l.017-.01h-.002c1.546-.944 3.1-2.557 4.326-4.616 2.69-4.514 2.455-8.347.061-9.7M34.252 27.387c-2.337-1.353-6.138.958-8.486 5.162-2.348 4.205-2.356 8.71-.018 10.064 2.339 1.353 6.138-.958 8.486-5.162 2.348-4.205 2.356-8.711.018-10.064",fill:"#00DC99"})))}m.defaultProps={width:150,height:52};var p=m,v=a(221),E=function(e){var t=e.color,a=e.size,n=Object(v.a)(e,["color","size"]);return r.a.createElement("span",Object.assign({style:{backgroundColor:t,width:a,height:a,display:"inline-block"}},n))};E.defaultProps={size:40};var f=E,b=a(160),h=a.n(b),g=function(e){var t=e.image,a=e.children;return r.a.createElement("main",{className:h.a.container},r.a.createElement("div",{className:h.a.content},r.a.createElement("div",{className:h.a.logo},r.a.createElement(p,{width:300,height:104})),a),r.a.createElement("div",{className:h.a.imageContainer},r.a.createElement("img",{alt:"",src:t,className:h.a.image})))},y=a(621),_=a(365),O=a(626),k=a(60),j=a(102),w=a.n(j),I=a(617),C=function(){var e=Object(I.a)(["auth","translation"]).t;return r.a.createElement(g,{image:"https://images.unsplash.com/photo-1593642634402-b0eb5e2eebc9?ixlib=rb-1.2.1&auto=format&fit=crop&w=1050&q=80"},r.a.createElement("div",null,r.a.createElement("h1",{className:w.a.centerText},e("forgotPassword")),r.a.createElement(y.a,{onFinish:function(t){_.a.open({message:e("forgotNotification.message"),description:e("forgotNotification.description")})}},r.a.createElement(y.a.Item,{name:"email",rules:[{required:!0,message:e("required.email")},{type:"email"}]},r.a.createElement(O.a,{placeholder:e("translation:email")})),r.a.createElement("div",{className:w.a.buttons},r.a.createElement(k.a,{block:!0,type:"ghost"},r.a.createElement(o.b,{to:"/auth/login",style:{display:"block"}},e("login"))),r.a.createElement(k.a,{block:!0,type:"primary",htmlType:"submit"},e("sendMail"))))))},A=a(28),x=a(23),S=a(49);function N(){var e=Object(S.a)(["\n  mutation Unsubscribe($userId: ID!) {\n    dropOut(userId: $userId) {\n      ok\n      error\n    }\n  }\n"]);return N=function(){return e},e}function T(){var e=Object(S.a)(["\n  mutation Subscribe($paymentMethodId: ID!, $planId: ID!) {\n    subscribe(paymentMethodId: $paymentMethodId, planId: $planId) {\n      ok\n      error\n    }\n  }\n"]);return T=function(){return e},e}function M(){var e=Object(S.a)(["\n  mutation RemovePaymentMethod($paymentMethodId: ID!) {\n    detachPaymentMethod(paymentMethodId: $paymentMethodId) {\n      ok\n      error\n    }\n  }\n"]);return M=function(){return e},e}function P(){var e=Object(S.a)(["\n  mutation AddPaymentMethod($paymentMethodId: ID!) {\n    addPaymentMethod(paymentMethodId: $paymentMethodId) {\n      ok\n      error\n    }\n  }\n"]);return P=function(){return e},e}function D(){var e=Object(S.a)(["\n   mutation BanUser($ban: Boolean!, $userId: ID!) {\n     banUser(ban: $ban, userId: $userId) {\n       ok\n       error\n     }\n   }\n "]);return D=function(){return e},e}function L(){var e=Object(S.a)(["\n  mutation DeleteAccount($password: String!) {\n    deleteAccount(password: $password) {\n      success\n      errors\n    }\n  }\n "]);return L=function(){return e},e}function q(){var e=Object(S.a)(["\n  mutation CreateApp($data: StoreAppInput!) {\n    createApp(data: $data) {\n      ok\n      error\n      storeApp {\n        id\n        logo\n        name\n        storeLinks {\n          ios\n          android\n        }\n        builds {\n          edges {\n            node {\n              id\n              buildStatus\n            }\n          }\n        }\n      }\n    }\n  }\n"]);return q=function(){return e},e}function $(){var e=Object(S.a)(["\n  mutation ModifyAppPayment($data: PaymentMethodAppInput!, $appId: ID!) {\n    modifyPaymentMethodApp(data: $data, storeAppId: $appId) {\n      ok\n      error\n    }\n  }\n"]);return $=function(){return e},e}function G(){var e=Object(S.a)(["\n  mutation DeleteApp($id: ID!) {\n    deleteApp(id: $id) {\n      ok\n      error\n    }\n  }\n"]);return G=function(){return e},e}function R(){var e=Object(S.a)(["\n  mutation UpdateApp($data: StoreAppInput!, $id: ID!) {\n    updateApp(data: $data, id: $id) {\n      ok\n      error\n    }\n  }\n"]);return R=function(){return e},e}function H(){var e=Object(S.a)(["\n  mutation PasswordChange(\n    $oldPassword: String!\n    $newPassword1: String!\n    $newPassword2: String!\n  ) {\n    passwordChange(\n      oldPassword: $oldPassword\n      newPassword1: $newPassword1\n      newPassword2: $newPassword2\n    ) {\n      success\n      errors\n      token\n      refreshToken\n    }\n  }\n"]);return H=function(){return e},e}function B(){var e=Object(S.a)(["\n  mutation RefreshToken($refreshToken: String!) {\n    refreshToken(refreshToken: $refreshToken) {\n      token\n      refreshToken\n      success\n      errors\n    }\n  }\n"]);return B=function(){return e},e}function F(){var e=Object(S.a)(["\n  mutation VerifyAccount($token: String!) {\n    verifyAccount(token: $token) {\n      success\n      errors\n    }\n  }\n"]);return F=function(){return e},e}function V(){var e=Object(S.a)(["\n  mutation VerifyToken($token: String!) {\n    verifyToken(token: $token) {\n      payload\n      success\n      errors\n    }\n  }\n"]);return V=function(){return e},e}function z(){var e=Object(S.a)(["\n  mutation Register(\n    $email: String!\n    $username: String!\n    $password1: String!\n    $password2: String!\n  ) {\n    register(\n      email: $email\n      username: $username\n      password1: $password1\n      password2: $password2\n    ) {\n      success\n      errors\n      token\n      refreshToken\n    }\n  }\n"]);return z=function(){return e},e}function Z(){var e=Object(S.a)(["\n  mutation TokenAuth($password: String!, $email: String, $username: String) {\n    tokenAuth(password: $password, email: $email, username: $username) {\n      token\n      refreshToken\n      success\n      errors\n      user {\n        id\n        email\n        username\n        firstName\n        lastName\n        isStaff\n        verified\n      }\n    }\n  }\n"]);return Z=function(){return e},e}var U=Object(d.gql)(Z()),W=Object(d.gql)(z()),Q=(Object(d.gql)(V()),Object(d.gql)(F())),K=Object(d.gql)(B()),Y=Object(d.gql)(H()),X=Object(d.gql)(R()),J=Object(d.gql)(G()),ee=Object(d.gql)($()),te=Object(d.gql)(q()),ae=Object(d.gql)(L()),ne=Object(d.gql)(D()),re=Object(d.gql)(P()),le=Object(d.gql)(M()),ce=Object(d.gql)(T()),oe=Object(d.gql)(N());function ie(){var e=Object(S.a)(["\n  query Builds($first: Int, $last: Int) {\n    builds(first: $first, last: $last) {\n      edges {\n        node {\n          id\n          buildId\n          date\n          buildStatus\n          app {\n            id\n            name\n            customer {\n              id\n              username\n            }\n          }\n        }\n      }\n    }\n  }\n"]);return ie=function(){return e},e}function de(){var e=Object(S.a)(["\n  query Client($id: ID!) {\n    user(id: $id) {\n      id\n      ...AccountBasicData\n      apps {\n        edges {\n          node {\n            id\n            name\n            logo\n            apiLink\n            storeLinks {\n              ios\n              android\n            }\n            builds {\n              edges {\n                node {\n                  id\n                  buildId\n                  date\n                  buildStatus\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n  ","\n"]);return de=function(){return e},e}function ue(){var e=Object(S.a)(["\n  query Clients($first: Int, $last: Int) {\n    users(first: $first, last: $last) {\n      edges {\n        node {\n          id\n          username\n          apps {\n            edges {\n              node {\n                id\n              }\n            }\n          }\n          accountStatus\n        }\n      }\n    }\n  }\n"]);return ue=function(){return e},e}function se(){var e=Object(S.a)(["\n  query Plans {\n    features {\n      id\n      name\n    }\n    plans {\n      edges {\n        node {\n          id\n          name\n          description\n          features {\n            id\n          }\n          planSet {\n            edges {\n              node {\n                id\n                stripeId\n                amount\n                interval\n                active\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n"]);return se=function(){return e},e}function me(){var e=Object(S.a)(["\n  query AppPayments($id: ID!) {\n    app(id: $id) {\n      id\n      paymentMethod {\n        id\n        stripeTestPublic\n        stripeTestSecret\n        stripeProdPublic\n        stripeProdSecret\n      }\n    }\n  }\n"]);return me=function(){return e},e}function pe(){var e=Object(S.a)(["\n  query App($id: ID!) {\n    app(id: $id) {\n      id\n      name\n      color {\n        color\n        text\n      }\n      apiLink\n      template {\n        id\n      }\n      logo\n      builds {\n        edges {\n          node {\n            id\n            buildStatus\n          }\n        }\n      }\n      storeLinks {\n        ios\n        android\n      }\n    }\n  }\n"]);return pe=function(){return e},e}function ve(){var e=Object(S.a)(["\n  query Templates {\n    templates {\n      edges {\n        node {\n          id\n          name\n          previewImg\n        }\n      }\n    }\n  }\n"]);return ve=function(){return e},e}function Ee(){var e=Object(S.a)(["\n  query MyAccount {\n    me {\n      id\n      ...AccountBasicData\n      apps {\n        edges {\n          node {\n            id\n            logo\n            name\n            storeLinks {\n              ios\n              android\n            }\n            builds {\n              edges {\n                node {\n                  id\n                  buildStatus\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n  ","\n"]);return Ee=function(){return e},e}function fe(){var e=Object(S.a)(["\n  query MyPaymentMethods {\n    me {\n      id\n      customer {\n        id\n        defaultPaymentMethod {\n          id\n          stripeId\n        }\n        paymentMethods {\n          edges {\n            node {\n              id\n              stripeId\n              card\n              billingDetails\n            }\n          }\n        }\n      }\n    }\n  }\n"]);return fe=function(){return e},e}function be(){var e=Object(S.a)(["\n  fragment AccountBasicData on UserNode {\n    username\n    email\n    accountStatus\n    verified\n    isActive\n  }\n"]);return be=function(){return e},e}function he(){var e=Object(S.a)(["\n  query Me {\n    me {\n      id\n      email\n      username\n      isStaff\n    }\n  }\n"]);return he=function(){return e},e}var ge,ye=Object(d.gql)(he()),_e=Object(d.gql)(be()),Oe=Object(d.gql)(fe()),ke=Object(d.gql)(Ee(),_e),je=Object(d.gql)(ve()),we=Object(d.gql)(pe()),Ie=Object(d.gql)(me()),Ce=Object(d.gql)(se()),Ae=Object(d.gql)(ue()),xe=Object(d.gql)(de(),_e),Se=Object(d.gql)(ie()),Ne=function(){return r.a.createElement("div",null,"Loading...")},Te=Object(n.createContext)({}),Me=function(){return Object(n.useContext)(Te)},Pe={loading:!0,isAdmin:!1,isAuthenticated:!1};function De(e,t){switch(t.type){case"LOADING":return Object(x.a)(Object(x.a)({},e),{},{loading:t.payload});case"ERROR":return Object(x.a)(Object(x.a)({},e),{},{errors:t.payload,loading:!1,isAuthenticated:!1});case"LOGIN":return t.payload.token&&(ge=t.payload.token.token),Object(x.a)(Object(x.a)({},e),{},{isAdmin:t.payload.isAdmin||!1,token:t.payload.token||e.token,loading:!1,user:t.payload.user,isAuthenticated:!!t.payload.token||!!e.token});case"LOGOUT":return Object(x.a)(Object(x.a)({},Pe),{},{loading:!1});default:return e}}function Le(e){var t=JSON.parse(atob(e.split(".")[1]));return{token:e,expiry:t.exp}}var qe=function(e){var t=e.children,a=function(){var e=Object(n.useReducer)(De,Pe),t=Object(A.a)(e,2),a=t[0],r=t[1],l=Object(d.useMutation)(U),c=Object(A.a)(l,1)[0],o=Object(d.useMutation)(W),i=Object(A.a)(o,1)[0],u=Object(d.useMutation)(K),s=Object(A.a)(u,1)[0],m=Object(d.useLazyQuery)(ye,{onCompleted:function(e){var t=e.me;t&&r({type:"LOGIN",payload:{isAdmin:null===t||void 0===t?void 0:t.isStaff,user:t}})}}),p=Object(A.a)(m,1)[0];function v(){var e=localStorage.getItem("yownesToken");e&&s({variables:{refreshToken:e},fetchPolicy:"no-cache"}).then((function(e){var t,a=e.data;if((null===a||void 0===a||null===(t=a.refreshToken)||void 0===t?void 0:t.success)&&a.refreshToken.token){var n=Le(a.refreshToken.token),l=1e3*n.expiry-(new Date).getTime();setTimeout(v,l),r({type:"LOGIN",payload:{token:n}}),p(),a.refreshToken.refreshToken&&localStorage.setItem("yownesToken",a.refreshToken.refreshToken)}else{var c;r({type:"ERROR",payload:null===a||void 0===a||null===(c=a.refreshToken)||void 0===c?void 0:c.errors})}}))}return Object(n.useEffect)((function(){localStorage.getItem("yownesToken")?v():r({type:"LOADING",payload:!1})}),[]),Object(x.a)({login:function(e){return c({variables:e}).then((function(e){var t,a=e.data;if((null===a||void 0===a||null===(t=a.tokenAuth)||void 0===t?void 0:t.success)&&a.tokenAuth.token){a.tokenAuth.refreshToken&&localStorage.setItem("yownesToken",a.tokenAuth.refreshToken);var n,l,c=Le(a.tokenAuth.token);if(setTimeout(v,1e3*c.expiry-(new Date).getTime()),a.tokenAuth.user)r({type:"LOGIN",payload:{token:c,isAdmin:null!==(n=null===(l=a.tokenAuth.user)||void 0===l?void 0:l.isStaff)&&void 0!==n&&n,user:a.tokenAuth.user}})}else{var o;r({type:"ERROR",payload:null===a||void 0===a||null===(o=a.tokenAuth)||void 0===o?void 0:o.errors})}}))},logout:function(){localStorage.removeItem("yownesToken"),r({type:"LOGOUT"})},register:function(e){return i({variables:e}).then((function(e){var t,a,n=e.data;(null===n||void 0===n||null===(t=n.register)||void 0===t?void 0:t.success)&&n.register.token?(n.register.refreshToken&&localStorage.setItem("yownesToken",n.register.refreshToken),r({type:"LOGIN",payload:{token:Le(n.register.token)}})):r({type:"ERROR",payload:null===n||void 0===n||null===(a=n.register)||void 0===a?void 0:a.errors})}))}},a)}();return a.loading?r.a.createElement(Ne,null):r.a.createElement(Te.Provider,{value:a},t)},$e=a(623),Ge=$e.a.Text,Re=function(e){var t=e.message;return r.a.createElement(Ge,{type:"danger"},t)},He=function(e){var t,a=e.errors,n=e.fields;return a?r.a.createElement("div",null,null===(t=a.nonFieldErrors)||void 0===t?void 0:t.map((function(e){return r.a.createElement(Re,{key:e.code,message:e.message})})),n&&n.map((function(e){var t;return null===(t=a[e])||void 0===t?void 0:t.map((function(e){return r.a.createElement(Re,{key:e.code,message:e.message})}))}))):null},Be=function(){var e=Object(i.h)(),t=Object(I.a)(["auth","translation"]).t,a=(e.state||{from:{pathname:"/"}}).from,n=Me(),l=n.login,c=n.isAuthenticated,d=n.errors;return c?r.a.createElement(i.a,{to:a}):r.a.createElement(g,{image:"https://images.unsplash.com/photo-1593642634402-b0eb5e2eebc9?ixlib=rb-1.2.1&auto=format&fit=crop&w=1050&q=80"},r.a.createElement("div",null,r.a.createElement("h1",{className:w.a.centerText},t("welcome")),r.a.createElement(He,{errors:d,fields:["email","password"]}),r.a.createElement(y.a,{onFinish:function(e){null===l||void 0===l||l({password:e.password,email:e.email})}},r.a.createElement(y.a.Item,{name:"email",rules:[{required:!0,message:t("required.mail")},{type:"email"}]},r.a.createElement(O.a,{placeholder:t("translation:email")})),r.a.createElement(y.a.Item,{name:"password",rules:[{required:!0,message:t("required.password")}]},r.a.createElement(O.a.Password,{placeholder:t("password")})),r.a.createElement(o.b,{to:"/auth/password",className:w.a.rightAlign},t("forgotPassword")),r.a.createElement("div",{className:w.a.buttons},r.a.createElement(k.a,{block:!0,type:"ghost"},r.a.createElement(o.b,{to:"/auth/register",style:{display:"block"}},t("createAccount"))),r.a.createElement(k.a,{block:!0,type:"primary",htmlType:"submit"},t("connect"))))))},Fe=a(184),Ve=a(618),ze=function(){var e=Object(i.h)(),t=Object(I.a)(["auth","translation"]).t,a=(e.state||{from:{pathname:"/"}}).from,n=Me(),l=n.register,c=n.isAuthenticated,d=n.errors;return c?r.a.createElement(i.a,{to:a}):r.a.createElement(g,{image:"https://images.unsplash.com/photo-1586244439413-bc2288941dda?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1050&q=80"},r.a.createElement("div",null,r.a.createElement("h1",{className:w.a.centerText},t("createAnAccount")),r.a.createElement(He,{errors:d,fields:["email","password1","password2"]}),r.a.createElement(y.a,{onFinish:function(e){null===l||void 0===l||l({email:e.email,username:e.name,password1:e.password,password2:e.confirmPassword})}},r.a.createElement(y.a.Item,{name:"name",rules:[{required:!0,message:t("required.name")},{min:2,message:t("required.min",{num:2})}]},r.a.createElement(O.a,{placeholder:t("translation:name")})),r.a.createElement(y.a.Item,{name:"email",rules:[{required:!0,message:t("required.email")},{type:"email"}]},r.a.createElement(O.a,{placeholder:t("translation:email")})),r.a.createElement(y.a.Item,{name:"password",rules:[{required:!0,message:t("required.password")},{min:8,message:t("required.minPassword",{num:8})}]},r.a.createElement(O.a.Password,{placeholder:t("password")})),r.a.createElement(y.a.Item,{name:"confirmPassword",rules:[{required:!0,message:t("required.passwordMatch")},function(e){var a=e.getFieldValue;return{validator:function(e,n){return n&&a("password")!==n?Promise.reject(t("required.passwordMatch")):Promise.resolve()}}}],dependencies:["password"]},r.a.createElement(O.a.Password,{placeholder:t("confirmPassword")})),r.a.createElement(y.a.Item,{name:"agreement",valuePropName:"checked",rules:[{validator:function(e,a){return a?Promise.resolve():Promise.reject(t("required.tos"))}}]},r.a.createElement(Fe.a,null,r.a.createElement(Ve.a,{i18nKey:"acceptTos",ns:"auth"},"Acepto los ",r.a.createElement(o.b,{to:"/tos"},"T\xe9rminos y Condiciones")))),r.a.createElement("div",{className:w.a.buttons},r.a.createElement(k.a,{block:!0,type:"ghost"},r.a.createElement(o.b,{to:"/auth/login"},t("connect"))),r.a.createElement(k.a,{block:!0,type:"primary",htmlType:"submit"},t("createAccount"))))))},Ze=function(){return r.a.createElement(i.d,null,r.a.createElement(i.b,{path:"/auth/login"},r.a.createElement(Be,null)),r.a.createElement(i.b,{path:"/auth/register"},r.a.createElement(ze,null)),r.a.createElement(i.b,{path:"/auth/password"},r.a.createElement(C,null)))};var Ue=function(e){var t=e.children,a=Object(v.a)(e,["children"]),n=Me().isAuthenticated;return r.a.createElement(i.b,Object.assign({},a,{render:function(e){var a=e.location;return n?t:r.a.createElement(i.a,{to:{pathname:"/auth/login",state:{from:a}}})}}))},We=a(347),Qe=a.n(We),Ke=function(){var e=Object(I.a)("admin").t;return r.a.createElement("div",{className:Qe.a.container},r.a.createElement("div",null,r.a.createElement(o.b,{to:"/clients"},e("clients")),r.a.createElement(o.b,{to:"/builds"},e("builds"))),r.a.createElement("div",null,r.a.createElement(O.a.Search,null)))},Ye=a(629),Xe=a(366),Je=a(222),et=a.n(Je),tt=function(e){var t=e.id,a=e.app,n=e.hasChanged,l=Object(I.a)("client").t,c=Object(d.useMutation)(J),o=Object(A.a)(c,1)[0],u=Object(d.useMutation)(X),s=Object(A.a)(u,1)[0],m=Object(i.g)();return r.a.createElement("div",{className:et.a.container},r.a.createElement("div",{className:et.a.preview}),r.a.createElement("div",{className:et.a.buttons},r.a.createElement(Ye.a,{title:r.a.createElement(Ve.a,{i18nKey:"warnings.app",ns:"client"},r.a.createElement("div",null,"\xbfRealmente deseas eliminar la App?"),r.a.createElement("div",null,"Ser\xe1 retirada de la AppStore y PlayStore")),onConfirm:function(){o({variables:{id:t},update:function(e,a){var n,r=a.data;(null===r||void 0===r||null===(n=r.deleteApp)||void 0===n?void 0:n.ok)&&(e.evict({id:e.identify({__typename:"StoreAppType",__ref:t})}),e.gc(),Xe.b.success(l("appDeleted")),m.replace("/profile"))}})}},r.a.createElement(k.a,{type:"primary",danger:!0},l("deleteApp"))),n&&r.a.createElement(k.a,{type:"ghost",onClick:function(){var e=Object(x.a)({},a);"string"===typeof e.logo&&delete e.logo,s({variables:{id:t,data:e}})}},l("saveChanges")),r.a.createElement(k.a,{type:"primary"},l("publishApp"))))},at=$e.a.Title,nt=$e.a.Text,rt=function(){var e,t,a=Object(I.a)("client").t,n=Object(d.useMutation)(Y),l=Object(A.a)(n,2),c=l[0],o=l[1],i=o.loading,u=o.data;return r.a.createElement(r.a.Fragment,null,r.a.createElement(at,{level:2},a("changePassword")),r.a.createElement(He,{errors:null===u||void 0===u||null===(e=u.passwordChange)||void 0===e?void 0:e.errors}),(null===u||void 0===u||null===(t=u.passwordChange)||void 0===t?void 0:t.success)&&r.a.createElement(nt,{type:"success"},a("changePasswordSuccessful")),r.a.createElement(y.a,{onFinish:function(e){c({variables:Object(x.a)({},e)})}},r.a.createElement(y.a.Item,{label:a("oldPassword"),name:"oldPassword",rules:[{required:!0}]},r.a.createElement(O.a.Password,null)),r.a.createElement(y.a.Item,{label:a("newPassword"),name:"newPassword1",rules:[{required:!0},{min:8}]},r.a.createElement(O.a.Password,null)),r.a.createElement(y.a.Item,{label:a("newPassword2"),name:"newPassword2",rules:[{required:!0},{min:8}]},r.a.createElement(O.a.Password,null)),r.a.createElement(y.a.Item,null,r.a.createElement(k.a,{htmlType:"submit",type:"primary",disabled:i,loading:i},a("changePassword")))))},lt=a(120),ct=a.n(lt),ot=a(223),it=a.n(ot),dt=a(218),ut=["#AF43BE","#FD8090","#C4FFFF","#08DEEA","#1261D1"],st=function(e){var t,a,n,l,c,o=e.value,i=e.onChange,d=Object(I.a)("client").t;return r.a.createElement("div",null,r.a.createElement(ct.a,{level:3},d("color")),r.a.createElement(it.a,null,d("colorPalette")),r.a.createElement("div",{style:{display:"flex",gap:15}},ut.map((function(e){return r.a.createElement(f,{color:e,onClick:function(){var t;return i({color:e,text:null!==(t=null===o||void 0===o?void 0:o.text)&&void 0!==t?t:"white"})},size:20})}))),r.a.createElement(it.a,null,d("selectedColor")),r.a.createElement(O.a,{placeholder:"#333333",style:{width:150},value:null!==(t=null===o||void 0===o?void 0:o.color)&&void 0!==t?t:ut[0],onChange:function(e){var t;return i({color:e.target.value,text:null!==(t=null===o||void 0===o?void 0:o.text)&&void 0!==t?t:"white"})}}),r.a.createElement("div",null,r.a.createElement(f,{color:null!==(a=null===o||void 0===o?void 0:o.color)&&void 0!==a?a:ut[0],size:80})),r.a.createElement(it.a,null,d("textColor")),r.a.createElement(dt.a.Group,{name:"text",value:null!==(n=null===o||void 0===o?void 0:o.text)&&void 0!==n?n:"white",onChange:function(e){var t;i({color:null!==(t=null===o||void 0===o?void 0:o.color)&&void 0!==t?t:ut[0],text:e.target.value})}},r.a.createElement(dt.a,{value:"white"},r.a.createElement("span",{style:{backgroundColor:null!==(l=null===o||void 0===o?void 0:o.color)&&void 0!==l?l:void 0,color:"white",padding:"1rem"}},d("white"))),r.a.createElement(dt.a,{value:"black"},r.a.createElement("span",{style:{backgroundColor:null!==(c=null===o||void 0===o?void 0:o.color)&&void 0!==c?c:void 0,color:"black",padding:"1rem"}},d("black")))))},mt=a(96),pt=a(140),vt=a(219),Et=a(632),ft=a(185),bt=a.n(ft),ht=function(e){var t=e.name,a=e.email,n=Me().logout,l=s()(),c=Object(I.a)().t,i=r.a.createElement(pt.a,null,r.a.createElement(pt.a.Item,{key:"0"},r.a.createElement(o.b,{to:"/profile"},c("profile"))),r.a.createElement(pt.a.Divider,null),r.a.createElement(pt.a.Item,{onClick:function(){null===n||void 0===n||n()},key:"1"},c("logout")));return r.a.createElement("div",{className:bt.a.container},l.md&&r.a.createElement("div",{className:bt.a.info},r.a.createElement("span",{className:bt.a.title},r.a.createElement(o.b,{to:"/profile"},t)),r.a.createElement("span",{className:bt.a.subtitle},a)),r.a.createElement(vt.a,{overlay:i,trigger:["click"]},r.a.createElement(k.a,{icon:r.a.createElement(Et.a,null),shape:"circle"})))};ht.defaultProps={reverse:!1,editable:!1};var gt,yt,_t,Ot=ht,kt=function(){var e,t,a=Object(i.i)(),l=Object(I.a)("auth").t,c=Object(d.useMutation)(Q),u=Object(A.a)(c,2),s=u[0],m=u[1],p=m.loading,v=m.data;return Object(n.useEffect)((function(){s({variables:{token:a.token}})}),[a.token,s]),p?r.a.createElement("div",null,"Verificando cuenta..."):r.a.createElement("div",null,(null===v||void 0===v||null===(e=v.verifyAccount)||void 0===e?void 0:e.success)&&r.a.createElement("h1",null,l("successfulValidation")),r.a.createElement(He,{errors:null===v||void 0===v||null===(t=v.verifyAccount)||void 0===t?void 0:t.errors}),r.a.createElement(o.b,{to:"/profile"},r.a.createElement(k.a,null,l("backToProfile"))))},jt=a(161),wt=a(99),It=a(620);function Ct(e){var t;return null!==(t=null===e||void 0===e?void 0:e.edges.map((function(e){return e.node})))&&void 0!==t?t:[]}function At(e){var t,a;if(!e)return yt.STALLED;var n=Ct(e.builds);return null!==(t=null===(a=n[n.length-1])||void 0===a?void 0:a.buildStatus)&&void 0!==t?t:yt.STALLED}!function(e){e.BANNED="BANNED",e.PAID_ACCOUNT="PAID_ACCOUNT",e.REGISTERED="REGISTERED",e.WAITING_PAYMENT="WAITING_PAYMENT"}(gt||(gt={})),function(e){e.GENERATING="GENERATING",e.PUBLISHED="PUBLISHED",e.QUEUED="QUEUED",e.STALLED="STALLED",e.UPLOADING="UPLOADING",e.WAITING="WAITING"}(yt||(yt={})),function(e){e.DAY="DAY",e.MONTH="MONTH",e.WEEK="WEEK",e.YEAR="YEAR"}(_t||(_t={}));var xt=a(114),St=a.n(xt),Nt=a(630),Tt={STALLED:"default",QUEUED:"gold",GENERATING:"cyan",UPLOADING:"magenta",PUBLISHED:"green",WAITING:"orange"},Mt=function(e){var t=e.state,a=Tt[t];return r.a.createElement(Nt.a,{color:a},t)},Pt=a(633),Dt=a(634),Lt=a(635),qt=a(348),$t=a.n(qt),Gt=function(e){var t=e.loading,a=e.children;return r.a.createElement(r.a.Fragment,null,t?r.a.createElement(Pt.a,null):r.a.createElement(Dt.a,null),r.a.createElement("div",{className:"ant-upload-text"},a))},Rt=function(e){var t=e.value,a=e.onChange,l=e.onDeleteClicked,c=Object(I.a)("client").t,o=Object(n.useState)({loading:!1}),i=Object(A.a)(o,2),d=i[0],u=i[1],s=Object(n.useRef)(null);return Object(n.useEffect)((function(){t&&"string"!==typeof t?function(e){var t=new FileReader;u(Object(x.a)(Object(x.a)({},d),{},{loading:!0})),t.onloadend=function(){u({loading:!1,file:t.result})},t.readAsDataURL(e)}(t):u(t&&"string"===typeof t?{loading:!1,file:t}:{loading:!1,file:null})}),[t]),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,r.a.createElement("input",{type:"file",accept:"image/png",onChange:function(e){var t=e.target,n=t.validity,r=t.files;if(r&&n.valid){var l=Array.from(r),c=Object(A.a)(l,1)[0];null===a||void 0===a||a(c)}},hidden:!0,id:"fileupload"}),r.a.createElement("label",{ref:s,className:$t.a.upload,htmlFor:"fileupload",onDragOver:function(e){return e.preventDefault()},onDragEnter:function(){s.current&&(s.current.style.borderColor="#a8a8a8")},onDragLeave:function(){s.current&&(s.current.style.borderColor="#d7d7d7")},onDrop:function(e){if(e.preventDefault(),e.dataTransfer.items){for(var t=0;t<e.dataTransfer.items.length;t++)if("file"===e.dataTransfer.items[t].kind){var n=e.dataTransfer.items[t].getAsFile();n&&(null===a||void 0===a||a(n))}}else for(var r=0;r<e.dataTransfer.files.length;r++){var l=e.dataTransfer.files[r];null===a||void 0===a||a(l)}}},t?r.a.createElement("img",{src:d.file,alt:"preview upload",style:{width:"100%",height:"100%",objectFit:"contain"}}):r.a.createElement(Gt,{loading:d.loading},c("upload"))),t&&r.a.createElement(Ye.a,{title:c("warnings.logo"),onConfirm:l},r.a.createElement(k.a,{icon:r.a.createElement(Lt.a,null),danger:!0,onClick:l},c("deleteLogo")))))},Ht=$e.a.Paragraph,Bt=function(e){var t,a,n,l=e.app,c=e.id,o=e.data,i=e.onChange;return r.a.createElement("div",{className:St.a.info},r.a.createElement("div",{className:St.a.info__logo},r.a.createElement(Rt,{value:o.logo,onDeleteClicked:function(){i(Object(x.a)(Object(x.a)({},o),{},{logo:null}))},onChange:function(e){i(Object(x.a)(Object(x.a)({},o),{},{logo:e}))}})),r.a.createElement("h1",{className:St.a.info__appName},r.a.createElement(Ht,{editable:{onChange:function(e){i(Object(x.a)(Object(x.a)({},o),{},{name:e}))}}},null!==(t=o.name)&&void 0!==t?t:"(Sin nombre)")),r.a.createElement("h2",{className:St.a.info__appId},c),r.a.createElement("div",{className:St.a.info__stores},(null===l||void 0===l||null===(a=l.storeLinks)||void 0===a?void 0:a.ios)&&r.a.createElement("a",{className:St.a.infoStores__link,href:l.storeLinks.ios},"iOS"),(null===l||void 0===l||null===(n=l.storeLinks)||void 0===n?void 0:n.android)&&r.a.createElement("a",{className:St.a.infoStores__link,href:l.storeLinks.android},"Android")),r.a.createElement("div",{className:St.a.info__state},r.a.createElement(Mt,{state:At(l)})))},Ft=a(627),Vt={REGISTERED:"default",WAITING_PAYMENT:"orange",PAID_ACCOUNT:"green",BANNED:"red"},zt=function(e){var t=e.state,a=t||gt.REGISTERED,n=Vt[a];return r.a.createElement(Nt.a,{color:n},t)},Zt=function(e){var t=e.profile,a=e.action,n=Object(I.a)().t;return r.a.createElement(Ft.a,{title:r.a.createElement($e.a.Title,{level:2},n("profileInfo")),layout:"vertical",size:"small",bordered:!0,extra:a,column:{md:2,xs:1,sm:2,lg:3}},(null===t||void 0===t?void 0:t.username)&&r.a.createElement(Ft.a.Item,{label:n("username")},t.username),(null===t||void 0===t?void 0:t.email)&&r.a.createElement(Ft.a.Item,{label:n("email")},t.email),(null===t||void 0===t?void 0:t.accountStatus)&&r.a.createElement(Ft.a.Item,{label:n("accountStatus")},r.a.createElement(zt,{state:t.accountStatus})))},Ut=a(224),Wt=a.n(Ut),Qt=function(e){var t=e.name,a=e.image;return r.a.createElement("div",{className:Wt.a.container},r.a.createElement("img",{className:Wt.a.image,src:a,alt:"Template preview for ".concat(t)}),r.a.createElement("span",{className:Wt.a.name},t))},Kt=a(225),Yt=a.n(Kt),Xt=$e.a.Title,Jt=function(e){var t=e.title,a=e.action,n=Object(I.a)("client").t;return r.a.createElement("div",{className:Yt.a.container},r.a.createElement(Xt,{level:2},t),a&&(a.needsConfirmation?r.a.createElement(Ye.a,{placement:"bottomRight",title:a.confirmationTitle||n("warnings.action"),onConfirm:a.action},r.a.createElement("button",{className:Yt.a.action},a.label)):r.a.createElement("button",{className:Yt.a.action,onClick:a.action},a.label)))},ea=a(226),ta=a.n(ea),aa=function(e){var t=e.claim,a=e.image,n=e.cta;return r.a.createElement("div",{className:ta.a.container},r.a.createElement("h2",{className:ta.a.title},t),a&&r.a.createElement("img",{src:ta.a.image,alt:"claim"}),r.a.createElement(o.b,{to:n.link},r.a.createElement(k.a,{type:"primary"},n.title)))},na=a(622),ra=function(e){var t,a,n,l=e.appId,c=Object(I.a)("client").t,o=Object(d.useQuery)(Ie,{variables:{id:l}}),i=o.data,u=o.loading,s=Object(d.useMutation)(ee),m=Object(A.a)(s,2),p=m[0],v=m[1].data;return u?r.a.createElement(Ne,null):r.a.createElement(r.a.Fragment,null,r.a.createElement(ct.a,{level:2},c("paymentMethod")),r.a.createElement(na.a,null,r.a.createElement(na.a.Panel,{key:"stripe",header:"Stripe"},r.a.createElement(y.a,{initialValues:null!==(t=null===i||void 0===i||null===(a=i.app)||void 0===a?void 0:a.paymentMethod)&&void 0!==t?t:void 0,onFinish:function(e){p({variables:{data:e,appId:l}})}},r.a.createElement(y.a.Item,{name:"stripeTestPublic",label:c("testPublicKey")},r.a.createElement(O.a.Password,null)),r.a.createElement(y.a.Item,{name:"stripeTestSecret",label:c("testPrivateKey")},r.a.createElement(O.a.Password,null)),r.a.createElement(y.a.Item,{name:"stripeProdPublic",label:c("prodPublicKey")},r.a.createElement(O.a.Password,null)),r.a.createElement(y.a.Item,{name:"stripeProdSecret",label:c("prodPrivateKey")},r.a.createElement(O.a.Password,null)),r.a.createElement(k.a,{htmlType:"submit"},c("updateStripeKeys")),(null===v||void 0===v||null===(n=v.modifyPaymentMethodApp)||void 0===n?void 0:n.error)&&r.a.createElement("p",null,v.modifyPaymentMethodApp.error)))))};function la(e,t){var a,n,r,l,c;return!!t&&((null===(a=t.color)||void 0===a?void 0:a.color)===(null===(n=e.color)||void 0===n?void 0:n.color)&&(null===(r=t.color)||void 0===r?void 0:r.text)===(null===(l=e.color)||void 0===l?void 0:l.text)&&t.name===e.name&&(null===(c=t.template)||void 0===c?void 0:c.id)===e.template&&t.logo===e.logo)}var ca={template:"VGVtcGxhdGVUeXBlOjE=",name:"(no name)",color:{color:"#0099cc",text:"white"},logo:null},oa=function(){var e,t,a,l=Object(i.i)().appId,c=Object(n.useState)(ca),o=Object(A.a)(c,2),u=o[0],s=o[1],m=Object(I.a)("client").t,p=Object(d.useLazyQuery)(we),v=Object(A.a)(p,2),E=v[0],f=v[1],b=f.loading,h=f.data;return Object(n.useEffect)((function(){var e,t,a,n,r,l,c;(null===h||void 0===h?void 0:h.app)&&s({template:null===(e=h.app.template)||void 0===e?void 0:e.id,name:h.app.name,color:{color:null!==(t=null===(a=h.app.color)||void 0===a?void 0:a.color)&&void 0!==t?t:null===(n=ca.color)||void 0===n?void 0:n.color,text:null!==(r=null===(l=h.app.color)||void 0===l?void 0:l.text)&&void 0!==r?r:null===(c=ca.color)||void 0===c?void 0:c.text},logo:h.app.logo})}),[h]),Object(n.useEffect)((function(){l&&E({variables:{id:l}})}),[l,E]),!u||b?r.a.createElement(Ne,null):r.a.createElement("div",null,r.a.createElement(jt.a,{gutter:20},r.a.createElement(wt.a,{span:12},r.a.createElement(jt.a,null,r.a.createElement(Bt,{data:u,id:null===h||void 0===h||null===(e=h.app)||void 0===e?void 0:e.id,onChange:function(e){return s(e)},app:null!==(t=null===h||void 0===h?void 0:h.app)&&void 0!==t?t:void 0})),r.a.createElement(jt.a,null,r.a.createElement(wt.a,{span:24},r.a.createElement(It.a,null,r.a.createElement(Jt,{title:m("style")}),r.a.createElement(fn,{value:u.template,onChange:function(e){s((function(t){return Object(x.a)(Object(x.a)({},t),{},{template:e})}))}}),r.a.createElement(st,{value:u.color,onChange:function(e){s((function(t){return Object(x.a)(Object(x.a)({},t),{},{color:e})}))}}),r.a.createElement(ra,{appId:l}))))),r.a.createElement(wt.a,{span:12},r.a.createElement(It.a,null,r.a.createElement(tt,{id:null===h||void 0===h||null===(a=h.app)||void 0===a?void 0:a.id,app:u,hasChanged:!la(u,null===h||void 0===h?void 0:h.app)})))))},ia=a(272),da=a.n(ia),ua=a(350),sa=a(139),ma={style:{base:{color:"#32325d",fontFamily:'"Helvetica Neue", Helvetica, sans-serif',fontSmoothing:"antialiased",fontSize:"16px","::placeholder":{color:"#aab7c4"}},invalid:{color:"#fa755a",iconColor:"#fa755a"}}},pa=function(){var e=Object(I.a)("client").t;return r.a.createElement(jt.a,null,r.a.createElement(wt.a,{span:12},r.a.createElement("label",null,e("cardDetails"),r.a.createElement(It.a,null,r.a.createElement(sa.CardElement,{options:ma})))))},va=a(351),Ea=$e.a.Title,fa=$e.a.Text,ba=Object(va.a)("pk_test_RG1KlTBaXWs8pCamCoLixIIu00FTwuG937"),ha=function(e){var t=e.onCreated,a=Object(sa.useStripe)(),l=Object(sa.useElements)(),c=Object(n.useState)(),o=Object(A.a)(c,2),i=o[0],d=o[1],u=Object(I.a)(["translation","client"]).t;return r.a.createElement(y.a,{validateMessages:{required:"El campo '${label}' es obligatorio"},onFinish:function(){var e=Object(ua.a)(da.a.mark((function e(n){var r,c,o,i,u;return da.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a&&l){e.next=2;break}return e.abrupt("return");case 2:if(r=l.getElement(sa.CardElement)){e.next=5;break}return e.abrupt("return");case 5:return e.next=7,a.createPaymentMethod({type:"card",card:r,billing_details:{address:{city:n.city,country:n.country,line1:n.direction,state:n.state},email:n.email,name:"".concat(n.name," ").concat(n.surname)}});case 7:if(c=e.sent,o=c.error,i=c.paymentMethod,!o){e.next=15;break}console.log("[createPaymentMethod error]",o),d(o.message),e.next=20;break;case 15:if(d(void 0),u=null===i||void 0===i?void 0:i.id){e.next=19;break}return e.abrupt("return");case 19:t(u);case 20:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},r.a.createElement(jt.a,{gutter:[20,20]},r.a.createElement(wt.a,{span:24},r.a.createElement(jt.a,{gutter:[20,20]},r.a.createElement(wt.a,{span:24},r.a.createElement(It.a,null,r.a.createElement(Ea,{level:2},u("client:billingDirection")),r.a.createElement(jt.a,{gutter:[15,15]},r.a.createElement(wt.a,{md:12,sm:24},r.a.createElement(y.a.Item,{name:"name",rules:[{required:!0}],label:u("name")},r.a.createElement(O.a,{placeholder:u("name")}))),r.a.createElement(wt.a,{md:12,sm:24},r.a.createElement(y.a.Item,{name:"surname",rules:[{required:!0}],label:u("surname")},r.a.createElement(O.a,{placeholder:u("surname")})))),r.a.createElement(jt.a,{gutter:[15,15]},r.a.createElement(wt.a,{md:12,sm:24},r.a.createElement(y.a.Item,{name:"email",rules:[{required:!0}],label:u("email")},r.a.createElement(O.a,{placeholder:u("email"),type:"email"}))),r.a.createElement(wt.a,{md:12,sm:24},r.a.createElement(y.a.Item,{name:"direction",rules:[{required:!0}],label:u("location")},r.a.createElement(O.a,{placeholder:u("location")})))),r.a.createElement(jt.a,{gutter:[15,15]},r.a.createElement(wt.a,{md:12,sm:24},r.a.createElement(y.a.Item,{name:"city",rules:[{required:!0}],label:u("city")},r.a.createElement(O.a,{placeholder:u("city")}))),r.a.createElement(wt.a,{md:12,sm:24},r.a.createElement(y.a.Item,{name:"state",rules:[{required:!0}],label:u("province")},r.a.createElement(O.a,{placeholder:u("province")})))),r.a.createElement(jt.a,{gutter:[15,15]},r.a.createElement(wt.a,{md:12,sm:24},r.a.createElement(y.a.Item,{name:"country",rules:[{required:!0}],label:u("country")},r.a.createElement(O.a,{placeholder:u("country")}))),r.a.createElement(wt.a,{md:12,sm:24},r.a.createElement(y.a.Item,{name:"documentId",label:u("documentId")},r.a.createElement(O.a,{placeholder:u("documentId")})))))),r.a.createElement(wt.a,{span:24},r.a.createElement(It.a,null,r.a.createElement(Ea,{level:2},u("client:paymentMethod")),r.a.createElement(pa,null))),r.a.createElement(wt.a,{span:24},i&&r.a.createElement("p",null,r.a.createElement(fa,{type:"danger"},i)),r.a.createElement(k.a,{htmlType:"submit",type:"primary",size:"large"},u("client:createPaymentMethod")))))))},ga=function(e){return r.a.createElement(sa.Elements,{stripe:ba},r.a.createElement(ha,e))},ya=$e.a.Title,_a=$e.a.Text,Oa=function(e){var t,a,l=e.plan,c=Object(i.g)(),o=Object(n.useState)(),u=Object(A.a)(o,2),s=u[0],m=u[1],p=Object(d.useMutation)(ce),v=Object(A.a)(p,2),E=v[0],f=v[1].data,b=Object(I.a)(["client","translation"]).t;return r.a.createElement(jt.a,{gutter:[20,20]},r.a.createElement(wt.a,{sm:24,md:14},r.a.createElement(ga,{onCreated:m})),r.a.createElement(wt.a,{sm:24,md:10},r.a.createElement(jt.a,{gutter:[20,20]},r.a.createElement(wt.a,{span:24},r.a.createElement(It.a,null,r.a.createElement(ya,{level:2},b("yourPayment")),r.a.createElement("div",{style:{display:"flex",justifyContent:"space-between"}},r.a.createElement(_a,{type:"secondary"},l.name),r.a.createElement(_a,{type:"secondary"},b("subscriptionResume",{amount:l.amount,interval:l.interval===_t.MONTH?b("translation:month"):b("translation:year")}))))),r.a.createElement(wt.a,{span:24},s&&r.a.createElement(k.a,{onClick:function(){E({variables:{paymentMethodId:s,planId:l.stripeId}}).then((function(e){var t,a,n=e.data;(null===n||void 0===n||null===(t=n.subscribe)||void 0===t?void 0:t.ok)?c.replace("/profile"):Xe.b.error(null===n||void 0===n||null===(a=n.subscribe)||void 0===a?void 0:a.error)}))},type:"primary",size:"large"},b("translation:confirm"))),r.a.createElement(wt.a,{span:24},r.a.createElement(He,{errors:{nonFieldErrors:(null===f||void 0===f||null===(t=f.subscribe)||void 0===t?void 0:t.error)?[{message:null===f||void 0===f||null===(a=f.subscribe)||void 0===a?void 0:a.error,code:"error"}]:void 0}})))))},ka=function(){var e=Object(i.h)().state;return e?r.a.createElement(Oa,{plan:e}):r.a.createElement(i.a,{to:"/pay"})},ja=$e.a.Title,wa=function(){var e=Object(I.a)(["translation","client"]).t;return r.a.createElement(r.a.Fragment,null,r.a.createElement(jt.a,{gutter:[20,20]},r.a.createElement(wt.a,{span:24},r.a.createElement(It.a,null,r.a.createElement(ja,{level:2},e("client:personalData")),r.a.createElement(jt.a,{gutter:[15,15]},r.a.createElement(wt.a,{md:12,sm:24},r.a.createElement(O.a,{placeholder:e("name")})),r.a.createElement(wt.a,{md:12,sm:24},r.a.createElement(O.a,{placeholder:e("surname")}))),r.a.createElement(jt.a,{gutter:[15,15]},r.a.createElement(wt.a,{md:12,sm:24},r.a.createElement(O.a,{placeholder:e("email")})),r.a.createElement(wt.a,{md:12,sm:24},r.a.createElement(O.a,{placeholder:e("location")}))),r.a.createElement(jt.a,{gutter:[15,15]},r.a.createElement(wt.a,{md:12,sm:24},r.a.createElement(O.a,{placeholder:e("city")})),r.a.createElement(wt.a,{md:12,sm:24},r.a.createElement(O.a,{placeholder:e("country")}))),r.a.createElement(jt.a,{gutter:[15,15]},r.a.createElement(wt.a,{md:12,sm:24},r.a.createElement(O.a,{placeholder:e("billingDirection")})),r.a.createElement(wt.a,{md:12,sm:24},r.a.createElement(O.a,{placeholder:e("documentId")}))))),r.a.createElement(wt.a,{span:24},r.a.createElement(It.a,null,r.a.createElement(ja,{level:2},e("client:paymentMethod")))),r.a.createElement(wt.a,{span:24},r.a.createElement(It.a,null,r.a.createElement(rt,null)))),r.a.createElement(jt.a,null,r.a.createElement(o.b,{to:"/profile"},r.a.createElement(k.a,{danger:!0},e("cancel")))))},Ia=function(){var e,t,a,l,c=window.__YOWNES_STORE_INFO__,o=Object(I.a)("client").t,u=Me().user,s=Object(d.useMutation)(te),m=Object(A.a)(s,2),p=m[0],v=m[1],E=v.data,f=v.loading,b=Object(n.useCallback)((function(e,t){var a,n=t.data;if(null===n||void 0===n||null===(a=n.createApp)||void 0===a?void 0:a.ok){var r,l=e.identify(Object(x.a)({},u)),c=e.identify(Object(x.a)({},null===(r=n.createApp)||void 0===r?void 0:r.storeApp));e.modify({id:l,fields:{apps:function(e){return{edges:[].concat(Object(mt.a)(e.edges),[{node:c}])}}}})}}),[u]);return Object(n.useEffect)((function(){c&&p({variables:{data:{apiLink:c.link,name:c.name}},update:b})}),[c,p,b]),(null===E||void 0===E||null===(e=E.createApp)||void 0===e?void 0:e.ok)?r.a.createElement(i.a,{to:"/app/".concat(null===(l=E.createApp.storeApp)||void 0===l?void 0:l.id)}):r.a.createElement(It.a,null,r.a.createElement(y.a,{initialValues:{name:null===c||void 0===c?void 0:c.name,apiLink:null===c||void 0===c?void 0:c.link},onFinish:function(e){p({variables:{data:{apiLink:e.apiLink,name:e.name}},update:b})}},r.a.createElement(y.a.Item,{name:"name",label:o("appName"),rules:[{required:!0}]},r.a.createElement(O.a,null)),r.a.createElement(y.a.Item,{name:"apiLink",label:o("storeLocation"),rules:[{required:!0}]},r.a.createElement(O.a,{disabled:Boolean(null===c||void 0===c?void 0:c.link),type:"url"})),r.a.createElement(y.a.Item,null,r.a.createElement(k.a,{type:"primary",htmlType:"submit",disabled:f,loading:f},o(f?"checking":"check")))),(null===c||void 0===c?void 0:c.link)&&!(null===E||void 0===E||null===(t=E.createApp)||void 0===t?void 0:t.ok)&&r.a.createElement("div",null,o("checkLocation")),!(null===c||void 0===c?void 0:c.link)&&r.a.createElement("div",null,r.a.createElement("h2",null,o("installInstructions.title")),r.a.createElement("p",null,o("installInstructions.description"))),(null===E||void 0===E||null===(a=E.createApp)||void 0===a?void 0:a.error)&&r.a.createElement("span",null,E.createApp.error))},Ca=a(213),Aa=a(636),xa=a(637),Sa=a(619),Na=a(631),Ta=a(352),Ma=a.n(Ta),Pa=$e.a.Text,Da=$e.a.Title,La=function(e){var t=e.subtitle,a=e.title,n=e.plan,l=Object(I.a)().t;return r.a.createElement("div",{className:Ma.a.container},r.a.createElement(Pa,null,t),r.a.createElement(Da,{level:2},a),r.a.createElement(Da,{level:3},r.a.createElement(Pa,{strong:!0},n.amount),"\u20ac/",n.interval===_t.MONTH?l("month"):l("year")),r.a.createElement(o.b,{to:{pathname:"/checkout",state:n}},r.a.createElement(k.a,{type:"primary"},l("select"))),r.a.createElement(Pa,{type:"secondary",style:{display:"block"}},l("priceWithTaxes")))};function qa(e,t,a){var n=e.filter((function(e){return e.active})).find((function(e){return e.interval===t}));return n?Object(x.a)(Object(x.a)({},n),{},{name:a}):{__typename:"StripePlanType",amount:0,id:"-1",stripeId:"-1",interval:_t.MONTH,name:a,active:!0}}function $a(e,t,a){return void 0!==e.id}var Ga=function(){var e,t=Object(I.a)("client").t,a=Object(d.useQuery)(Ce),l=a.data,c=a.loading,o=Object(n.useState)(_t.MONTH),i=Object(A.a)(o,2),u=i[0],s=i[1];if(c)return r.a.createElement(Ne,null);var m=Ct(null===l||void 0===l?void 0:l.plans),p=null===l||void 0===l||null===(e=l.features)||void 0===e?void 0:e.filter($a).map((function(e){var t=m.map((function(t){return Object(Ca.a)({},t.id,t.features.map((function(e){return e.id})).includes(e.id))})).reduce((function(e,t){return Object(x.a)(Object(x.a)({},e),t)}),{});return Object(x.a)(Object(x.a)({},e),t)}));return r.a.createElement(r.a.Fragment,null,r.a.createElement(Sa.a,{columns:[{title:r.a.createElement(r.a.Fragment,null,r.a.createElement("span",null,t("monthlyPayment")," "),r.a.createElement(Na.a,{checked:u===_t.MONTH,onChange:function(e){s(e?_t.MONTH:_t.YEAR)}})),dataIndex:"name",fixed:"left"}].concat(Object(mt.a)(m.map((function(e,t){var a;return{title:r.a.createElement(La,{key:e.id,title:e.name,subtitle:null!==(a=e.description)&&void 0!==a?a:"-",plan:qa(Ct(e.planSet),u,e.name)}),key:e.id,dataIndex:e.id,render:function(e,t,a){return e?r.a.createElement(Aa.a,{style:{fontSize:20,color:"#00ec93"}}):r.a.createElement(xa.a,{style:{fontSize:20,color:"#dd0000"}})}}})))),pagination:!1,scroll:{x:1500,y:"40vh"},dataSource:p}))},Ra=function(){return r.a.createElement(It.a,null,r.a.createElement(Ga,null))},Ha=a(625),Ba=a(34),Fa=a.n(Ba),Va={visa:{darkColor:Fa.a.limedark,lightColor:Fa.a.lime,icon:'<svg version="1.1" id="Layer_1" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="750px" height="471px" viewBox="0 0 750 471" enable-background="new 0 0 750 471" xml:space="preserve"><title>Slice 1</title><desc>Created with Sketch.</desc><g id="visa" sketch:type="MSLayerGroup"><path id="Shape" sketch:type="MSShapeGroup" fill="#0E4595" d="M278.198,334.228l33.36-195.763h53.358l-33.384,195.763H278.198L278.198,334.228z"/><path id="path13" sketch:type="MSShapeGroup" fill="#0E4595" d="M524.307,142.687c-10.57-3.966-27.135-8.222-47.822-8.222c-52.725,0-89.863,26.551-90.18,64.604c-0.297,28.129,26.514,43.821,46.754,53.185c20.77,9.597,27.752,15.716,27.652,24.283c-0.133,13.123-16.586,19.116-31.924,19.116c-21.355,0-32.701-2.967-50.225-10.274l-6.877-3.112l-7.488,43.823c12.463,5.466,35.508,10.199,59.438,10.445c56.09,0,92.502-26.248,92.916-66.884c0.199-22.27-14.016-39.216-44.801-53.188c-18.65-9.056-30.072-15.099-29.951-24.269c0-8.137,9.668-16.838,30.559-16.838c17.447-0.271,30.088,3.534,39.936,7.5l4.781,2.259L524.307,142.687"/><path id="Path" sketch:type="MSShapeGroup" fill="#0E4595" d="M661.615,138.464h-41.23c-12.773,0-22.332,3.486-27.941,16.234l-79.244,179.402h56.031c0,0,9.16-24.121,11.232-29.418c6.123,0,60.555,0.084,68.336,0.084c1.596,6.854,6.492,29.334,6.492,29.334h49.512L661.615,138.464L661.615,138.464z M596.198,264.872c4.414-11.279,21.26-54.724,21.26-54.724c-0.314,0.521,4.381-11.334,7.074-18.684l3.607,16.878c0,0,10.217,46.729,12.352,56.527h-44.293V264.872L596.198,264.872z"/><path id="path16" sketch:type="MSShapeGroup" fill="#0E4595" d="M232.903,138.464L180.664,271.96l-5.565-27.129c-9.726-31.274-40.025-65.157-73.898-82.12l47.767,171.204l56.455-0.064l84.004-195.386L232.903,138.464"/><path id="path18" sketch:type="MSShapeGroup" fill="#F2AE14" d="M131.92,138.464H45.879l-0.682,4.073c66.939,16.204,111.232,55.363,129.618,102.415l-18.709-89.96C152.877,142.596,143.509,138.896,131.92,138.464"/></g></svg>'},maestro:{darkColor:Fa.a.yellowdark,lightColor:Fa.a.yellow,icon:'<svg id="Layer_1" data-name="Layer 1" xmlns="http://www.w3.org/2000/svg" width="482.6" height="374.31" viewBox="0 0 482.6 374.31"> <title>maestro</title> <g> <path d="M278.8,421.77V397c0-9.35-6-15.64-15.55-15.72-5-.08-10.26,1.49-13.9,7-2.73-4.38-7-7-13.07-7a13.08,13.08,0,0,0-11.58,5.87v-4.88h-8.61v39.55h8.69V399.85c0-6.87,3.81-10.51,9.68-10.51,5.71,0,8.61,3.72,8.61,10.42v22h8.69V399.85c0-6.87,4-10.51,9.68-10.51,5.87,0,8.69,3.72,8.69,10.42v22ZM327.28,402V382.23h-8.61V387c-2.73-3.56-6.87-5.79-12.49-5.79-11.09,0-19.77,8.69-19.77,20.77s8.69,20.77,19.77,20.77c5.63,0,9.76-2.23,12.49-5.79v4.8h8.61Zm-32,0c0-6.95,4.55-12.66,12-12.66,7.12,0,11.91,5.46,11.91,12.66s-4.8,12.66-11.91,12.66C299.81,414.66,295.26,408.95,295.26,402ZM511.4,381.19a22.29,22.29,0,0,1,8.49,1.59,20.71,20.71,0,0,1,6.75,4.38,20,20,0,0,1,4.46,6.59,22,22,0,0,1,0,16.52,20,20,0,0,1-4.46,6.59,20.69,20.69,0,0,1-6.75,4.38,23.43,23.43,0,0,1-17,0,20.47,20.47,0,0,1-6.73-4.38,20.21,20.21,0,0,1-4.44-6.59,22,22,0,0,1,0-16.52,20.23,20.23,0,0,1,4.44-6.59,20.48,20.48,0,0,1,6.73-4.38A22.29,22.29,0,0,1,511.4,381.19Zm0,8.14a12.84,12.84,0,0,0-4.91.93,11.62,11.62,0,0,0-3.92,2.6,12.13,12.13,0,0,0-2.6,4,14.39,14.39,0,0,0,0,10.28,12.11,12.11,0,0,0,2.6,4,11.62,11.62,0,0,0,3.92,2.6,13.46,13.46,0,0,0,9.83,0,11.86,11.86,0,0,0,3.94-2.6,12,12,0,0,0,2.62-4,14.39,14.39,0,0,0,0-10.28,12,12,0,0,0-2.62-4,11.86,11.86,0,0,0-3.94-2.6A12.84,12.84,0,0,0,511.4,389.32ZM374.1,402c-.08-12.33-7.69-20.77-18.78-20.77-11.58,0-19.69,8.44-19.69,20.77,0,12.58,8.44,20.77,20.27,20.77,6,0,11.42-1.49,16.22-5.54l-4.22-6.37A18.84,18.84,0,0,1,356.4,415c-5.54,0-10.59-2.56-11.83-9.68h29.37C374,404.23,374.1,403.16,374.1,402Zm-29.45-3.47c.91-5.71,4.38-9.6,10.51-9.6,5.54,0,9.1,3.47,10,9.6Zm65.69-6.2A25.49,25.49,0,0,0,398,388.93c-4.72,0-7.53,1.74-7.53,4.63,0,2.65,3,3.39,6.7,3.89l4.05.58c8.61,1.24,13.82,4.88,13.82,11.83,0,7.53-6.62,12.91-18,12.91-6.45,0-12.41-1.66-17.13-5.13l4.05-6.7a21.07,21.07,0,0,0,13.16,4.14c5.87,0,9-1.74,9-4.8,0-2.23-2.23-3.47-6.95-4.14l-4.05-.58c-8.85-1.24-13.65-5.21-13.65-11.67,0-7.86,6.45-12.66,16.46-12.66,6.29,0,12,1.41,16.13,4.14Zm41.35-2.23H437.62V408c0,4,1.41,6.62,5.71,6.62a15.89,15.89,0,0,0,7.61-2.23l2.48,7.36a20.22,20.22,0,0,1-10.76,3.06c-10.18,0-13.73-5.46-13.73-14.65v-18h-8v-7.86h8v-12h8.69v12h14.06Zm29.78-8.85a18.38,18.38,0,0,1,6.12,1.08l-2.65,8.11a14,14,0,0,0-5.38-1c-5.63,0-8.44,3.64-8.44,10.18v22.17h-8.6V382.23H471V387a11.66,11.66,0,0,1,10.42-5.79Z" transform="translate(-132.9 -48.5)"/> <g id="_Group_" data-name="&lt;Group&gt;"> <rect x="176.05" y="31.89" width="130.5" height="234.51" fill="#7673c0"/> <path id="_Path_" data-name="&lt;Path&gt;" d="M317.24,197.64a148.88,148.88,0,0,1,57-117.26,149.14,149.14,0,1,0,0,234.51A148.88,148.88,0,0,1,317.24,197.64Z" transform="translate(-132.9 -48.5)" fill="#eb001b"/> <path d="M615.5,197.64A149.14,149.14,0,0,1,374.2,314.9a149.16,149.16,0,0,0,0-234.51A149.14,149.14,0,0,1,615.5,197.64Z" transform="translate(-132.9 -48.5)" fill="#00a1df"/> </g> </g></svg>'},mastercard:{darkColor:Fa.a.lightbluedark,lightColor:Fa.a.lightblue,icon:'<svg id="Layer_1" data-name="Layer 1" xmlns="http://www.w3.org/2000/svg" width="482.51" height="374" viewBox="0 0 482.51 374"> <title>mastercard</title> <g> <path d="M220.13,421.67V396.82c0-9.53-5.8-15.74-15.32-15.74-5,0-10.35,1.66-14.08,7-2.9-4.56-7-7-13.25-7a14.07,14.07,0,0,0-12,5.8v-5h-7.87v39.76h7.87V398.89c0-7,4.14-10.35,9.94-10.35s9.11,3.73,9.11,10.35v22.78h7.87V398.89c0-7,4.14-10.35,9.94-10.35s9.11,3.73,9.11,10.35v22.78Zm129.22-39.35h-14.5v-12H327v12h-8.28v7H327V408c0,9.11,3.31,14.5,13.25,14.5A23.17,23.17,0,0,0,351,419.6l-2.49-7a13.63,13.63,0,0,1-7.46,2.07c-4.14,0-6.21-2.49-6.21-6.63V389h14.5v-6.63Zm73.72-1.24a12.39,12.39,0,0,0-10.77,5.8v-5h-7.87v39.76h7.87V399.31c0-6.63,3.31-10.77,8.7-10.77a24.24,24.24,0,0,1,5.38.83l2.49-7.46a28,28,0,0,0-5.8-.83Zm-111.41,4.14c-4.14-2.9-9.94-4.14-16.15-4.14-9.94,0-16.15,4.56-16.15,12.43,0,6.63,4.56,10.35,13.25,11.6l4.14.41c4.56.83,7.46,2.49,7.46,4.56,0,2.9-3.31,5-9.53,5a21.84,21.84,0,0,1-13.25-4.14l-4.14,6.21c5.8,4.14,12.84,5,17,5,11.6,0,17.81-5.38,17.81-12.84,0-7-5-10.35-13.67-11.6l-4.14-.41c-3.73-.41-7-1.66-7-4.14,0-2.9,3.31-5,7.87-5,5,0,9.94,2.07,12.43,3.31Zm120.11,16.57c0,12,7.87,20.71,20.71,20.71,5.8,0,9.94-1.24,14.08-4.56l-4.14-6.21a16.74,16.74,0,0,1-10.35,3.73c-7,0-12.43-5.38-12.43-13.25S445,389,452.07,389a16.74,16.74,0,0,1,10.35,3.73l4.14-6.21c-4.14-3.31-8.28-4.56-14.08-4.56-12.43-.83-20.71,7.87-20.71,19.88h0Zm-55.5-20.71c-11.6,0-19.47,8.28-19.47,20.71s8.28,20.71,20.29,20.71a25.33,25.33,0,0,0,16.15-5.38l-4.14-5.8a19.79,19.79,0,0,1-11.6,4.14c-5.38,0-11.18-3.31-12-10.35h29.41v-3.31c0-12.43-7.46-20.71-18.64-20.71h0Zm-.41,7.46c5.8,0,9.94,3.73,10.35,9.94H364.68c1.24-5.8,5-9.94,11.18-9.94ZM268.59,401.79V381.91h-7.87v5c-2.9-3.73-7-5.8-12.84-5.8-11.18,0-19.47,8.7-19.47,20.71s8.28,20.71,19.47,20.71c5.8,0,9.94-2.07,12.84-5.8v5h7.87V401.79Zm-31.89,0c0-7.46,4.56-13.25,12.43-13.25,7.46,0,12,5.8,12,13.25,0,7.87-5,13.25-12,13.25-7.87.41-12.43-5.8-12.43-13.25Zm306.08-20.71a12.39,12.39,0,0,0-10.77,5.8v-5h-7.87v39.76H532V399.31c0-6.63,3.31-10.77,8.7-10.77a24.24,24.24,0,0,1,5.38.83l2.49-7.46a28,28,0,0,0-5.8-.83Zm-30.65,20.71V381.91h-7.87v5c-2.9-3.73-7-5.8-12.84-5.8-11.18,0-19.47,8.7-19.47,20.71s8.28,20.71,19.47,20.71c5.8,0,9.94-2.07,12.84-5.8v5h7.87V401.79Zm-31.89,0c0-7.46,4.56-13.25,12.43-13.25,7.46,0,12,5.8,12,13.25,0,7.87-5,13.25-12,13.25-7.87.41-12.43-5.8-12.43-13.25Zm111.83,0V366.17h-7.87v20.71c-2.9-3.73-7-5.8-12.84-5.8-11.18,0-19.47,8.7-19.47,20.71s8.28,20.71,19.47,20.71c5.8,0,9.94-2.07,12.84-5.8v5h7.87V401.79Zm-31.89,0c0-7.46,4.56-13.25,12.43-13.25,7.46,0,12,5.8,12,13.25,0,7.87-5,13.25-12,13.25C564.73,415.46,560.17,409.25,560.17,401.79Z" transform="translate(-132.74 -48.5)"/> <g> <rect x="169.81" y="31.89" width="143.72" height="234.42" fill="#ff5f00"/> <path d="M317.05,197.6A149.5,149.5,0,0,1,373.79,80.39a149.1,149.1,0,1,0,0,234.42A149.5,149.5,0,0,1,317.05,197.6Z" transform="translate(-132.74 -48.5)" fill="#eb001b"/> <path d="M615.26,197.6a148.95,148.95,0,0,1-241,117.21,149.43,149.43,0,0,0,0-234.42,148.95,148.95,0,0,1,241,117.21Z" transform="translate(-132.74 -48.5)" fill="#f79e1b"/> </g> </g></svg>'}},za=function(e){var t,a,n,l,c,o,i=e.data,d=e.billing,u=i.replace(/None/g,"null").replace(/True/g,"true").replace(/False/g,"false").replace(/'/g,'"'),s=d.replace(/None/g,"null").replace(/True/g,"true").replace(/False/g,"false").replace(/'/g,'"'),m=JSON.parse(u),p=JSON.parse(s);return r.a.createElement("div",{className:Fa.a.creditcard},r.a.createElement("div",{className:Fa.a.front},r.a.createElement("div",{id:Fa.a.ccsingle,dangerouslySetInnerHTML:{__html:null===(t=Va[m.brand])||void 0===t?void 0:t.icon}}),r.a.createElement("svg",{viewBox:"0 0 750 471",id:Fa.a.cardfront},r.a.createElement("g",{id:"CardBackground"},r.a.createElement("g",{id:"amex_1_"},r.a.createElement("path",{className:"".concat(Fa.a.lightcolor," ").concat(null!==(a=null===(n=Va[m.brand])||void 0===n?void 0:n.lightColor)&&void 0!==a?a:Fa.a.grey),d:"M40 0h670c22.1 0 40 17.9 40 40v391c0 22.1-17.9 40-40 40H40c-22.1 0-40-17.9-40-40V40C0 17.9 17.9 0 40 0z"}))),r.a.createElement("path",{className:"".concat(Fa.a.darkcolor," ").concat(null!==(l=null===(c=Va[m.brand])||void 0===c?void 0:c.darkColor)&&void 0!==l?l:Fa.a.greydark),d:"M750 431V193.2c-217.6-57.5-556.4-13.5-750 24.9V431c0 22.1 17.9 40 40 40h670c22.1 0 40-17.9 40-40z"}),r.a.createElement("text",{transform:"translate(60.106 295.012)",className:"".concat(Fa.a.st2," ").concat(Fa.a.st3," ").concat(Fa.a.st4)},"**** **** **** ".concat(m.last4)),r.a.createElement("text",{transform:"translate(54.106 428.172)",className:"".concat(Fa.a.st2," ").concat(Fa.a.st5," ").concat(Fa.a.st6)},null===p||void 0===p||null===(o=p.name)||void 0===o?void 0:o.toUpperCase()),r.a.createElement("text",{transform:"translate(54.107 389.88)",className:"".concat(Fa.a.st7," ").concat(Fa.a.st5," ").concat(Fa.a.st8)},"nombre"),r.a.createElement("text",{transform:"translate(479.775 388.88)",className:"".concat(Fa.a.st7," ").concat(Fa.a.st5," ").concat(Fa.a.st8)},"expira"),r.a.createElement("text",{transform:"translate(65.105 241.5)",className:"".concat(Fa.a.st7," ").concat(Fa.a.st5," ").concat(Fa.a.st8)},"n\xfamero de tarjeta"),r.a.createElement("text",{transform:"translate(574.422 433.81)",className:"".concat(Fa.a.st2," ").concat(Fa.a.st5," ").concat(Fa.a.st9)},"".concat(m.exp_month<10?"0".concat(m.exp_month):m.exp_month,"/").concat(m.exp_year.toString().match(/\d{2}$/))),r.a.createElement("text",{transform:"translate(479.385 417.01)",className:"".concat(Fa.a.st2," ").concat(Fa.a.st10," ").concat(Fa.a.st11)},"V\xc1LIDO"),r.a.createElement("text",{transform:"translate(479.385 435.676)",className:"".concat(Fa.a.st2," ").concat(Fa.a.st10," ").concat(Fa.a.st11)},"HASTA"),r.a.createElement("path",{className:Fa.a.st2,d:"M554.5 421l-14.1-6.8v13.7z"}),r.a.createElement("g",null,r.a.createElement("path",{d:"M168.1 143.6H82.9c-10.2 0-18.5-8.3-18.5-18.5V74.9c0-10.2 8.3-18.5 18.5-18.5h85.3c10.2 0 18.5 8.3 18.5 18.5v50.2c-.1 10.2-8.4 18.5-18.6 18.5z"}),r.a.createElement("path",{d:"M82 70h1.5v60H82zM167.4 70h1.5v60h-1.5zM125.5 130.8c-10.2 0-18.5-8.3-18.5-18.5 0-4.6 1.7-8.9 4.7-12.3-3-3.4-4.7-7.7-4.7-12.3 0-10.2 8.3-18.5 18.5-18.5S144 77.5 144 87.7c0 4.6-1.7 8.9-4.7 12.3 3 3.4 4.7 7.7 4.7 12.3-.1 10.2-8.3 18.5-18.5 18.5zm0-60c-9.3 0-16.9 7.6-16.9 16.9 0 4.4 1.7 8.6 4.8 11.8l.5.5-.5.5c-3.1 3.2-4.8 7.4-4.8 11.8 0 9.3 7.6 16.9 16.9 16.9s16.9-7.6 16.9-16.9c0-4.4-1.7-8.6-4.8-11.8l-.5-.5.5-.5c3.1-3.2 4.8-7.4 4.8-11.8 0-9.3-7.6-16.9-16.9-16.9z"}),r.a.createElement("path",{d:"M82.8 82.1h25.8v1.5H82.8zM82.8 117.9h26.1v1.5H82.8zM142.4 82.1h25.8v1.5h-25.8zM142 117.9h26.2v1.5H142z"})))))},Za=function(){var e,t,a,l,c,o=Object(I.a)(["client","translation"]).t,i=Object(d.useQuery)(Oe),u=i.data,s=i.loading,m=Object(d.useMutation)(re),p=Object(A.a)(m,1)[0],v=Object(d.useMutation)(le),E=Object(A.a)(v,1)[0],f=Object(n.useState)(!1),b=Object(A.a)(f,2),h=b[0],g=b[1];return s?r.a.createElement(Ne,null):r.a.createElement(jt.a,{gutter:20},r.a.createElement(wt.a,{span:24},r.a.createElement(ct.a,{level:2},o("defaultCard")),r.a.createElement(dt.a.Group,{value:null===u||void 0===u||null===(e=u.me)||void 0===e||null===(t=e.customer)||void 0===t||null===(a=t.defaultPaymentMethod)||void 0===a?void 0:a.stripeId,onChange:function(e){p({variables:{paymentMethodId:e.target.value}})}},Ct(null===u||void 0===u||null===(l=u.me)||void 0===l||null===(c=l.customer)||void 0===c?void 0:c.paymentMethods).map((function(e){return r.a.createElement(dt.a,{key:e.id,value:e.stripeId},r.a.createElement(za,{data:e.card,billing:e.billingDetails}),r.a.createElement(Ye.a,{title:o("warnings.card"),placement:"topLeft",onConfirm:function(){var t,a,n;e.stripeId&&(e.stripeId===(null===u||void 0===u||null===(t=u.me)||void 0===t||null===(a=t.customer)||void 0===a||null===(n=a.defaultPaymentMethod)||void 0===n?void 0:n.stripeId)?Xe.b.info(o("warnings.defaultCard")):E({variables:{paymentMethodId:e.stripeId},update:function(t,a){var n,r=a.data;if(null===r||void 0===r||null===(n=r.detachPaymentMethod)||void 0===n?void 0:n.ok){var l=t.identify(Object(x.a)({},e));t.evict({id:l}),t.gc()}}}))}},r.a.createElement(k.a,{danger:!0},o("translation:delete"))))})))),r.a.createElement(wt.a,{span:24},r.a.createElement(k.a,{onClick:function(){return g(!0)}},o("addCard"))),r.a.createElement(Ha.a,{width:720,visible:h,onClose:function(){return g(!1)}},r.a.createElement(ga,{onCreated:function(e){p({variables:{paymentMethodId:e}})}})))},Ua=a(628),Wa=a(624),Qa=function(e){e.id;var t=e.confirmPassword,a=Object(n.useState)(),l=Object(A.a)(a,2),c=l[0],o=l[1],i=Object(d.useMutation)(ae),u=Object(A.a)(i,1)[0],s=Object(I.a)("client").t,m=Me().logout;return t?r.a.createElement("div",null,r.a.createElement(He,{errors:c,fields:["password"]}),r.a.createElement(y.a,{onFinish:function(e){u({variables:{password:e.password}}).then((function(e){var t,a,n=e.data;(null===n||void 0===n||null===(t=n.deleteAccount)||void 0===t?void 0:t.success)?null===m||void 0===m||m():o(null===n||void 0===n||null===(a=n.deleteAccount)||void 0===a?void 0:a.errors)}))}},r.a.createElement(y.a.Item,{name:"password",label:s("confirmPasswordDelete")},r.a.createElement(O.a.Password,null)),r.a.createElement(k.a,{htmlType:"submit",type:"primary",danger:!0},s("confirmDeleteAccount")))):null},Ka=a(157),Ya=a.n(Ka),Xa=function(e){var t=e.dataSource,a=e.columns,l=Object(I.a)().t,c=Object(n.useMemo)((function(){var e=[{title:l("icon"),dataIndex:"logo",key:"icon",render:function(e){return r.a.createElement("img",{src:e,alt:"",width:40,height:40,style:{objectFit:"contain"}})}},{title:l("name"),dataIndex:"name",key:"name",render:function(e,t){return r.a.createElement(o.b,{to:"/app/".concat(t.id)},e)}},{title:l("urls"),dataIndex:"storeLinks",key:"urls",render:function(e){return e.ios||e.android?r.a.createElement(r.a.Fragment,null,r.a.createElement("a",{href:e.ios,style:{padding:5}},"iOS"),r.a.createElement("a",{href:e.android,style:{padding:5}},"Android")):r.a.createElement("span",null,"-")}},{title:l("state"),dataIndex:"builds",key:"state",render:function(e,t){return r.a.createElement(Mt,{state:At(t)})}}];return a?[].concat(e,Object(mt.a)(a)):e}),[a,l]);return r.a.createElement(Ya.a,{columns:c,dataSource:Ct(t),pagination:!1})},Ja=[{exact:!0,path:"/",redirect:"/profile"},{exact:!0,path:"/profile",name:"Perfil",component:function(){var e,t,a,l,c,u,s,m,p,v=Object(i.g)(),E=Object(n.useState)(!1),f=Object(A.a)(E,2),b=f[0],h=f[1],g=Object(n.useState)(!1),y=Object(A.a)(g,2),_=y[0],O=y[1],j=Object(I.a)(["client","translation"]).t,w=Object(d.useQuery)(ke),C=w.loading,x=w.data,S=Object(d.useMutation)(oe),N=Object(A.a)(S,1)[0];if(C)return r.a.createElement(Ne,null);var T=r.a.createElement(pt.a,null,r.a.createElement(pt.a.Item,null,r.a.createElement(o.b,{to:"/profile/edit"},j("edit"))),r.a.createElement(pt.a.Item,null,r.a.createElement(o.b,{to:"/profile/paymentMethods"},j("changePaymentMethod"))),r.a.createElement(pt.a.Divider,null),(null===x||void 0===x||null===(e=x.me)||void 0===e?void 0:e.accountStatus)===gt.PAID_ACCOUNT&&r.a.createElement(pt.a.Item,null,r.a.createElement(Ye.a,{title:r.a.createElement(Ve.a,{i18nKey:"warnings.subscription",ns:"client"},r.a.createElement("h4",null,"\xbfRealmente deseas cancelar la suscripci\xf3n al servicio?"),r.a.createElement("p",null,"Todas las apps que tengas ser\xe1n eliminadas de las tiendas de aplicaciones")),placement:"left",onConfirm:function(){var e,t;(O(!1),null===x||void 0===x||null===(e=x.me)||void 0===e?void 0:e.id)&&N({variables:{userId:null===x||void 0===x||null===(t=x.me)||void 0===t?void 0:t.id},update:function(e,t){var a,n=t.data;(null===n||void 0===n||null===(a=n.dropOut)||void 0===a?void 0:a.ok)&&x.me&&e.modify({id:e.identify({__ref:null===x||void 0===x?void 0:x.me.id,__typename:null===x||void 0===x?void 0:x.me.__typename}),fields:{accountStatus:function(){return gt.REGISTERED}}})}})}},r.a.createElement($e.a.Text,{type:"danger"},j("cancelSubscription")))),r.a.createElement(pt.a.Item,null,r.a.createElement(Ye.a,{title:j("warnings.account"),placement:"left",onConfirm:function(){h(!0),O(!1)}},r.a.createElement($e.a.Text,{type:"danger"},j("deleteAccount"))))),M=r.a.createElement(vt.a,{overlay:T,trigger:["click"],visible:_,onVisibleChange:O},r.a.createElement(k.a,{shape:"circle",icon:r.a.createElement(Et.a,null)}));return r.a.createElement(r.a.Fragment,null,!(null===x||void 0===x||null===(t=x.me)||void 0===t?void 0:t.verified)&&r.a.createElement(jt.a,{gutter:[20,20]},r.a.createElement(wt.a,{span:24},r.a.createElement(Ua.a,{showIcon:!0,message:j("validate.message"),description:j("validate.description"),type:"warning"}))),r.a.createElement(jt.a,{gutter:[20,20]},r.a.createElement(wt.a,{lg:12,xs:24},r.a.createElement(It.a,null,r.a.createElement(Zt,{profile:null===x||void 0===x?void 0:x.me,action:M}),(null===x||void 0===x||null===(a=x.me)||void 0===a?void 0:a.accountStatus)===gt.REGISTERED&&r.a.createElement(aa,{claim:j("subscribeNow"),cta:{title:j("subscribe"),link:"/pay"}}))),r.a.createElement(wt.a,{lg:12,xs:24},r.a.createElement(It.a,null,(null!==(l=null===x||void 0===x||null===(c=x.me)||void 0===c||null===(u=c.apps)||void 0===u?void 0:u.edges.length)&&void 0!==l?l:0)>0?r.a.createElement(r.a.Fragment,null,r.a.createElement(Jt,{title:j("translation:apps"),action:{action:function(){return v.push("/app/new")},label:j("addNew")}}),r.a.createElement(Xa,{dataSource:null===x||void 0===x||null===(s=x.me)||void 0===s?void 0:s.apps})):r.a.createElement(aa,{claim:j("addAppClaim"),cta:{title:j("addNewApp"),link:"/app/new"}})))),r.a.createElement(Wa.a,{visible:b,title:j("deleteAccount"),onCancel:function(){h(!1)},okButtonProps:{style:{display:"none"}}},r.a.createElement(Qa,{id:null!==(m=null===x||void 0===x||null===(p=x.me)||void 0===p?void 0:p.id)&&void 0!==m?m:"",confirmPassword:b})))}},{exact:!0,path:"/profile/edit",name:"Editar Perfil",component:wa},{exact:!0,path:"/profile/paymentMethods",name:"Editar M\xe9todos de Pago",component:Za},{exact:!0,path:"/pay",name:"Pago",component:Ra},{exact:!0,path:"/checkout",name:"Check Out",component:ka},{exact:!0,path:"/app/new",name:"Nueva App",component:Ia},{exact:!1,path:"/app/:appId",name:"Editar App",component:oa},{exact:!0,path:"/activate/:token",name:"Activar Cuenta",component:kt}],en=function(){var e=Object(d.useQuery)(Se),t=e.loading,a=e.data,n=Object(I.a)(["translation","admin"]).t;if(t)return r.a.createElement(Ne,null);var l=[{title:n("admin:date"),dataIndex:"date",key:"data",render:function(e){return e.toLocaleDateString()}},{title:n("buildId"),dataIndex:"id",key:"buildId"},{title:n("admin:client"),dataIndex:["app","client","name"],key:"client"},{title:n("admin:clientID"),dataIndex:["app","customer","id"],key:"clientId"},{title:n("app"),dataIndex:["app","name"],key:"app"},{title:n("state"),dataIndex:"buildStatus",key:"state",render:function(e){return r.a.createElement(Mt,{state:e})}}];return r.a.createElement("div",null,r.a.createElement(Sa.a,{columns:l,dataSource:Ct(null===a||void 0===a?void 0:a.builds)}))},tn=function(){var e=Object(I.a)(["translation","admin"]).t,t=Object(d.useQuery)(Ae),a=t.loading,n=t.data;if(a)return r.a.createElement(Ne,null);var l=[{title:e("name"),dataIndex:"username",key:"name",render:function(e,t){return r.a.createElement(o.b,{to:"/clients/".concat(t.id)},e)}},{title:e("admin:clientID"),dataIndex:"id",key:"id",render:function(e){return r.a.createElement(o.b,{to:"/clients/".concat(e)},e)}},{title:e("apps"),dataIndex:["apps","edges"],key:"apps",render:function(e){return e.length}},{title:e("state"),dataIndex:"accountStatus",key:"state",render:function(e){return r.a.createElement(zt,{state:e})}}];return r.a.createElement("div",null,r.a.createElement(Ya.a,{columns:l,dataSource:Ct(null===n||void 0===n?void 0:n.users)}))},an=function(e){var t=e.dataSource,a=Object(I.a)().t,n=[{title:a("date"),dataIndex:"date",key:"data",render:function(e){return e.toLocaleDateString()}},{title:a("buildId"),dataIndex:"id",key:"buildId"},{title:"App",dataIndex:["app","name"],key:"app.name"},{title:a("state"),dataIndex:"buildStatus",key:"state",render:function(e){return r.a.createElement(Mt,{state:e})}}];return r.a.createElement(Ya.a,{columns:n,dataSource:t})},nn=$e.a.Text;function rn(e){var t=Ct(e),a=[];return t.forEach((function(e){var t,n=e.builds,r=e.name,l=e.id,c=null!==(t=Ct(n).map((function(e){return Object(x.a)(Object(x.a)({},e),{},{app:{id:l,name:r}})})))&&void 0!==t?t:[];a.push.apply(a,Object(mt.a)(c))})),a}var ln=[{exact:!0,path:"/",redirect:"/clients"},{exact:!0,path:"/builds",name:"Builds",component:en},{exact:!0,path:"/clients",name:"Clientes",component:tn},{exact:!0,path:"/clients/:id",name:"Cliente",component:function(){var e,t,a,l,c=Object(I.a)("admin").t,o=Object(i.i)().id,u=Object(n.useState)(!1),s=Object(A.a)(u,2),m=s[0],p=s[1],v=Object(d.useQuery)(xe,{variables:{id:o}}),E=v.loading,f=v.data,b=Object(d.useMutation)(J),h=Object(A.a)(b,1)[0],g=Object(d.useMutation)(ne),y=Object(A.a)(g,1)[0],_=Object(d.useMutation)(oe),O=Object(A.a)(_,1)[0];if(E)return r.a.createElement(Ne,null);var j=r.a.createElement(pt.a,null,r.a.createElement(pt.a.Item,null,r.a.createElement(Ye.a,{title:(null===f||void 0===f||null===(e=f.user)||void 0===e?void 0:e.accountStatus)===gt.BANNED?c("warings.unban"):c("warnings.ban"),onConfirm:function(){var e,t;(p(!1),null===f||void 0===f||null===(e=f.user)||void 0===e?void 0:e.id)&&y({variables:{userId:f.user.id,ban:(null===f||void 0===f||null===(t=f.user)||void 0===t?void 0:t.accountStatus)!==gt.BANNED},update:function(e,t){var a,n=t.data;(null===n||void 0===n||null===(a=n.banUser)||void 0===a?void 0:a.ok)&&e.modify({id:e.identify(Object(x.a)({},f.user)),fields:{accountStatus:function(e){return e===gt.BANNED?gt.REGISTERED:gt.BANNED}}})}})}},r.a.createElement(nn,{type:"danger"},(null===f||void 0===f||null===(t=f.user)||void 0===t?void 0:t.accountStatus)===gt.BANNED?"Desbanear":"Banear Cuenta"))),r.a.createElement(pt.a.Item,null,r.a.createElement(Ye.a,{title:c("warnings.account"),placement:"left",onConfirm:function(){p(!1),O({variables:{userId:o}})}},r.a.createElement(nn,{type:"danger"},c("unsubscribe"))))),w=r.a.createElement(vt.a,{overlay:j,trigger:["click"],visible:m,onVisibleChange:p},r.a.createElement(k.a,{shape:"circle",icon:r.a.createElement(Et.a,null)}));return r.a.createElement(r.a.Fragment,null,r.a.createElement(jt.a,{style:{marginBottom:20}},r.a.createElement(wt.a,{sm:12,xs:24},r.a.createElement(It.a,null,r.a.createElement(jt.a,{gutter:10},r.a.createElement(wt.a,{span:24},r.a.createElement(Zt,{profile:null===f||void 0===f?void 0:f.user,action:w})))))),r.a.createElement(jt.a,{gutter:20},r.a.createElement(wt.a,{md:12,sm:24},r.a.createElement(It.a,null,r.a.createElement(Xa,{dataSource:null===f||void 0===f||null===(a=f.user)||void 0===a?void 0:a.apps,columns:[{title:c("actions"),key:"actions",render:function(e,t){return r.a.createElement(Ye.a,{title:c("warnings.app"),onConfirm:function(){h({variables:{id:t.id},update:function(e,a){var n,r=a.data;if(null===r||void 0===r||null===(n=r.deleteApp)||void 0===n?void 0:n.ok){var l=e.identify(Object(x.a)({},t));e.evict({id:l}),e.gc()}else{var c;Xe.b.error(null===r||void 0===r||null===(c=r.deleteApp)||void 0===c?void 0:c.error)}}})}},r.a.createElement(k.a,{danger:!0},r.a.createElement(Lt.a,null)))}}]}))),r.a.createElement(wt.a,{md:12,sm:24},r.a.createElement(It.a,null,r.a.createElement(an,{dataSource:rn(null===f||void 0===f||null===(l=f.user)||void 0===l?void 0:l.apps)})))))}}],cn=a(228),on=a.n(cn),dn=a(638),un=[].concat(Object(mt.a)(Ja),Object(mt.a)(ln)),sn=function(){var e,t,a=Object(d.useQuery)(ye).data,n=Object(i.h)(),l=un.find((function(e){return e.path===n.pathname}));return l||(l=un.filter((function(e){return/:\w+/.exec(e.path)})).map((function(e){var t=e.path.replace(/:\w+/,"");return Object(x.a)(Object(x.a)({},e),{},{path:t})})).find((function(e){return n.pathname.includes(e.path)}))),r.a.createElement("header",{className:on.a.container},r.a.createElement(o.b,{to:"/"},r.a.createElement(p,null)),r.a.createElement($e.a.Title,{level:2,className:on.a.title},r.a.createElement(dn.a,{className:on.a.titleIcon})," ",null===(e=l)||void 0===e?void 0:e.name),(null===a||void 0===a||null===(t=a.me)||void 0===t?void 0:t.email)&&r.a.createElement(Ot,{email:a.me.email,name:a.me.username}))},mn=function(e){var t=e.routes;return r.a.createElement(i.d,null,t.map((function(e){return r.a.createElement(i.b,{key:e.path,exact:e.exact,path:e.path},e.redirect?r.a.createElement(i.a,{to:{pathname:e.redirect}}):e.component&&r.a.createElement(e.component,null))})))},pn=a(639),vn=a(229),En=a.n(vn),fn=function(e){var t,a=e.value,n=e.onChange,l=Object(I.a)("client").t,c=Object(d.useQuery)(je),o=c.loading,i=c.data;if(o)return r.a.createElement(Ne,null);var u=Ct(null===i||void 0===i?void 0:i.templates);return r.a.createElement("div",{className:En.a.container},r.a.createElement(ct.a,{level:3},l("template")),r.a.createElement(dt.a.Group,{value:null!==a&&void 0!==a?a:null===(t=u[0])||void 0===t?void 0:t.id,onChange:function(e){return n(e.target.value)},style:{overflowX:"scroll",display:"flex"}},u.map((function(e){var t,a;return r.a.createElement(dt.a.Button,{value:e.id,key:e.id,style:{height:"auto"}},r.a.createElement(Qt,{name:null!==(t=e.name)&&void 0!==t?t:"",image:null!==(a=e.previewImg)&&void 0!==a?a:""}))}))),r.a.createElement("div",{className:En.a.overlay},r.a.createElement("span",{className:En.a.arrow},r.a.createElement(pn.a,{style:{fontSize:"16px",color:"#333"}}))))},bn=a(355),hn=a.n(bn),gn=function(e){var t=e.children,a=e.header;return r.a.createElement(r.a.Fragment,null,r.a.createElement(sn,null),a,r.a.createElement("main",{className:hn.a.main},t))},yn=function(){return r.a.createElement(mn,{routes:ln})},_n=function(){return r.a.createElement(mn,{routes:Ja})},On=function(){var e=Me().isAdmin;return r.a.createElement(gn,{header:e?r.a.createElement(Ke,null):null},e?r.a.createElement(yn,null):r.a.createElement(_n,null))},kn=a(356),jn=a(357),wn=a(358),In=new d.InMemoryCache({typePolicies:{BuildType:{fields:{date:{read:function(e){return new Date(e)}}}}}}),Cn=Object(kn.a)((function(e){var t=e.graphQLErrors,a=e.networkError;t&&t.forEach((function(e){var t=e.message,a=e.locations,n=e.path;console.log("[GraphQL error]: Message: ".concat(t,", Location: ").concat(a,", Path: ").concat(n))})),a&&console.log("[Network error]: ".concat(a))})),An="index.php?controller=AdminYownesAjax&action=proxy&ajax=true&".concat(window.__TOKEN__),xn=Object(wn.a)({uri:An}),Sn=Object(jn.a)((function(e,t){var a=t.headers,n=ge;return{headers:Object(x.a)(Object(x.a)({},a),{},{authorization:n?"JWT ".concat(n):""})}})),Nn=new d.ApolloClient({link:Cn.concat(Object(d.concat)(Sn,xn)),cache:In}),Tn=function(){var e=Object(I.a)().t;return r.a.createElement("div",null,r.a.createElement("h1",null,e("tos.title")))};var Mn=function(){return r.a.createElement(d.ApolloProvider,{client:Nn},r.a.createElement(qe,null,r.a.createElement(n.Suspense,{fallback:r.a.createElement(Ne,null)},r.a.createElement(o.a,null,r.a.createElement(i.d,null,r.a.createElement(i.b,{path:"/auth"},r.a.createElement(Ze,null)),r.a.createElement(i.b,{exact:!0,path:"/tos"},r.a.createElement(Tn,null)),r.a.createElement(Ue,{path:"/"},r.a.createElement(On,null)))))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Pn=a(274),Dn=a(110),Ln=a(359),qn=a(361);Pn.a.use(Ln.a).use(qn.a).use(Dn.e).init({fallbackLng:"es-ES",debug:!0,backend:{loadPath:"/locales/{{lng}}/{{ns}}.json"},ns:["translation","admin","auth","client"]});Pn.a;c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(Mn,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[370,1,2]]]);
//# sourceMappingURL=main.985ffc2f.chunk.js.map